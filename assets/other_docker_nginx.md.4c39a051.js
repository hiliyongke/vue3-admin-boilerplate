import{_ as e,c as a,o as l,a as s,b as n}from"./app.8a49408b.js";const C=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":3,"title":"说明：","slug":"说明","link":"#说明","children":[]},{"level":3,"title":"1、寻找 Nginx 镜像","slug":"_1、寻找-nginx-镜像","link":"#_1、寻找-nginx-镜像","children":[]},{"level":3,"title":"2、下载 Nginx 镜像","slug":"_2、下载-nginx-镜像","link":"#_2、下载-nginx-镜像","children":[]},{"level":3,"title":"3、创建 Nginx 配置文件","slug":"_3、创建-nginx-配置文件","link":"#_3、创建-nginx-配置文件","children":[]},{"level":3,"title":"4、创建 Nginx 容器并运行","slug":"_4、创建-nginx-容器并运行","link":"#_4、创建-nginx-容器并运行","children":[]},{"level":3,"title":"5、结果检测","slug":"_5、结果检测","link":"#_5、结果检测","children":[]},{"level":3,"title":"","slug":"","link":"#","children":[]},{"level":3,"title":"6、修改内容进行展示","slug":"_6、修改内容进行展示","link":"#_6、修改内容进行展示","children":[]}],"relativePath":"other/docker_nginx.md"}'),t={name:"other/docker_nginx.md"},o=s(`<blockquote><p>本文由 <a href="http://ksria.com/simpread/" target="_blank" rel="noreferrer">简悦 SimpRead</a> 转码， 原文地址 <a href="https://blog.csdn.net/BThinker/article/details/123507820" target="_blank" rel="noreferrer">blog.csdn.net</a></p></blockquote><blockquote><p><a href="https://blog.csdn.net/BThinker/article/details/123358697" title="Docker 安装 (完整详细版)" target="_blank" rel="noreferrer">Docker 安装 (完整详细版)</a></p><p><a href="https://blog.csdn.net/BThinker/article/details/123355362" title="Docker 日常命令大全(完整详细版)" target="_blank" rel="noreferrer">Docker 日常命令大全 (完整详细版)</a></p></blockquote><h3 id="说明" tabindex="-1">说明： <a class="header-anchor" href="#说明" aria-hidden="true">#</a></h3><blockquote><p><a href="https://so.csdn.net/so/search?q=Docker&amp;spm=1001.2101.3001.7020" title="Docker" target="_blank" rel="noreferrer">Docker</a> 如果想安装软件 , 必须先到 <a href="https://so.csdn.net/so/search?q=Docker&amp;spm=1001.2101.3001.7020" title="Docker" target="_blank" rel="noreferrer">Docker</a> 镜像仓库下载镜像。</p></blockquote><p><a href="https://hub.docker.com/" title="Docker官方镜像 " target="_blank" rel="noreferrer">Docker 官方镜像</a></p><h3 id="_1、寻找-nginx-镜像" tabindex="-1">1、寻找 <a href="https://so.csdn.net/so/search?q=Nginx&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">Nginx</a> 镜像 <a class="header-anchor" href="#_1、寻找-nginx-镜像" aria-hidden="true">#</a></h3><p><img src="https://img-blog.csdnimg.cn/936384cdefca4d5292438589bd4267b6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><p><img src="https://img-blog.csdnimg.cn/f44d906902c84949bcc07b8cad99c22c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h3 id="_2、下载-nginx-镜像" tabindex="-1">2、下载 Nginx 镜像 <a class="header-anchor" href="#_2、下载-nginx-镜像" aria-hidden="true">#</a></h3><table><thead><tr><th>命令</th><th>描述</th></tr></thead><tbody><tr><td>docker pull nginx</td><td>下载最新版 Nginx 镜像 (其实此命令就等同于 : docker pull nginx:latest)</td></tr><tr><td>docker pull nginx:xxx</td><td>下载指定版本的 Nginx 镜像 (xxx 指具体版本号)</td></tr></tbody></table><p><img src="https://img-blog.csdnimg.cn/cfe33e6c9e16447a991e10067179beac.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><blockquote><p>检查当前所有 <a href="https://so.csdn.net/so/search?q=Docker&amp;spm=1001.2101.3001.7020" target="_blank" rel="noreferrer">Docker</a> 下载的镜像</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">docker images</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="_3、创建-nginx-配置文件" tabindex="-1">3、创建 Nginx 配置文件 <a class="header-anchor" href="#_3、创建-nginx-配置文件" aria-hidden="true">#</a></h3><blockquote><p>启动前需要先创建 Nginx 外部挂载的配置文件（ /home/nginx/conf/nginx.conf）<br> 之所以要先创建 , 是因为 Nginx 本身容器只存在 / etc/nginx 目录 , 本身就不创建 nginx.conf 文件<br> 当服务器和容器都不存在 nginx.conf 文件时, 执行启动命令的时候 docker 会将 nginx.conf 作为目录创建 , 这并不是我们想要的结果 。</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"># 创建挂载目录</span></span>
<span class="line"><span style="color:#A6ACCD;">mkdir -p /home/nginx/conf</span></span>
<span class="line"><span style="color:#A6ACCD;">mkdir -p /home/nginx/log</span></span>
<span class="line"><span style="color:#A6ACCD;">mkdir -p /home/nginx/html</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p>容器中的 nginx.conf 文件和 conf.d 文件夹复制到宿主机</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"># 生成容器</span></span>
<span class="line"><span style="color:#A6ACCD;">docker run --name nginx -p 9001:80 -d nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"># 将容器nginx.conf文件复制到宿主机</span></span>
<span class="line"><span style="color:#A6ACCD;">docker cp nginx:/etc/nginx/nginx.conf /home/nginx/conf/nginx.conf</span></span>
<span class="line"><span style="color:#A6ACCD;"># 将容器conf.d文件夹下内容复制到宿主机</span></span>
<span class="line"><span style="color:#A6ACCD;">docker cp nginx:/etc/nginx/conf.d /home/nginx/conf/conf.d</span></span>
<span class="line"><span style="color:#A6ACCD;"># 将容器中的html文件夹复制到宿主机</span></span>
<span class="line"><span style="color:#A6ACCD;">docker cp nginx:/usr/share/nginx/html /home/nginx/</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/2a460adaab2446c7a6f805ebdfe1751a.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h3 id="_4、创建-nginx-容器并运行" tabindex="-1">4、创建 Nginx 容器并运行 <a class="header-anchor" href="#_4、创建-nginx-容器并运行" aria-hidden="true">#</a></h3><blockquote><p>Docker 创建 Nginx 容器</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"># 直接执行docker rm nginx或者以容器id方式关闭容器</span></span>
<span class="line"><span style="color:#A6ACCD;"># 找到nginx对应的容器id</span></span>
<span class="line"><span style="color:#A6ACCD;">docker ps -a</span></span>
<span class="line"><span style="color:#A6ACCD;"># 关闭该容器</span></span>
<span class="line"><span style="color:#A6ACCD;">docker stop nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"># 删除该容器</span></span>
<span class="line"><span style="color:#A6ACCD;">docker rm nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"># 删除正在运行的nginx容器</span></span>
<span class="line"><span style="color:#A6ACCD;">docker rm -f nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">docker run \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-p 9002:80 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--name nginx \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-v /home/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-v /home/nginx/conf/conf.d:/etc/nginx/conf.d \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-v /home/nginx/log:/var/log/nginx \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-v /home/nginx/html:/usr/share/nginx/html \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-d nginx:latest</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div>`,23),c=n("table",{align:"center",border:"1",cellpadding:"1",cellspacing:"1"},[n("thead",null,[n("tr",null,[n("th",null,"命令"),n("th",null,"   描述")])]),n("tbody",null,[n("tr",null,[n("td",null,"–name nginx"),n("td",null,"启动容器的名字")]),n("tr",null,[n("td",null,"-d"),n("td",null,"后台运行")]),n("tr",null,[n("td",null,"-p 9002:80"),n("td",null,"将容器的 9002(后面那个) 端口映射到主机的 80(前面那个) 端口")]),n("tr",null,[n("td",null,"-v /home/nginx/conf/nginx.conf:/etc/nginx/nginx.conf"),n("td",null,"挂载 nginx.conf 配置文件")]),n("tr",null,[n("td",null,"-v /home/nginx/conf/conf.d:/etc/nginx/conf.d"),n("td",null,"挂载 nginx 配置文件")]),n("tr",null,[n("td",null,"-v /home/nginx/log:/var/log/nginx"),n("td",null,"挂载 nginx 日志文件")]),n("tr",null,[n("td",null,"-v /home/nginx/html:/usr/share/nginx/html"),n("td",null,"挂载 nginx 内容")]),n("tr",null,[n("td",null,"nginx:latest"),n("td",null,"本地运行的版本")]),n("tr",null,[n("td",null,"\\"),n("td",null,"shell 命令换行")])])],-1),i=s(`<p><img src="https://img-blog.csdnimg.cn/e519e235ddd14f31aaa5cd53bb0bb741.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><blockquote><p>单行模式</p></blockquote><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;">docker run -p 9002:80 --name nginx -v /home/nginx/conf/nginx.conf:/etc/nginx/nginx.conf -v /home/nginx/conf/conf.d:/etc/nginx/conf.d -v /home/nginx/log:/var/log/nginx -v /home/nginx/html:/usr/share/nginx/html -d nginx:latest</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="_5、结果检测" tabindex="-1">5、结果检测 <a class="header-anchor" href="#_5、结果检测" aria-hidden="true">#</a></h3><p><img src="https://img-blog.csdnimg.cn/e040a9897e7342eea38c554735a9b62b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><h3 id="" tabindex="-1"><img src="https://img-blog.csdnimg.cn/e79b39ae161546aebfe0610005db9f07.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""> <a class="header-anchor" href="#" aria-hidden="true">#</a></h3><h3 id="_6、修改内容进行展示" tabindex="-1">6、修改内容进行展示 <a class="header-anchor" href="#_6、修改内容进行展示" aria-hidden="true">#</a></h3><p><img src="https://img-blog.csdnimg.cn/c48989901bcb4b679d95337aae10f661.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#A6ACCD;"># 重启容器</span></span>
<span class="line"><span style="color:#A6ACCD;">docker restart nginx</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><img src="https://img-blog.csdnimg.cn/e29c104638264865a4a6e51dc05c6e04.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAVG91Y2gm,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>`,10),p=[o,c,i];function r(g,d,h,x,_,m){return l(),a("div",null,p)}const A=e(t,[["render",r]]);export{C as __pageData,A as default};
