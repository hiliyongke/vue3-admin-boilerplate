<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端技术指南 | 前端技术指南</title>
    <meta name="description" content="前端规范">
    <link rel="preload stylesheet" href="/vue3-admin-boilerplate/assets/style.a2260a5a.css" as="style">
    <link rel="modulepreload" href="/vue3-admin-boilerplate/assets/app.84281fb6.js">
    <link rel="modulepreload" href="/vue3-admin-boilerplate/assets/other_前端技术规范.md.89664478.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6c680ab1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-122069ac></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-122069ac> Skip to content </a><!--]--><!----><header class="VPNav" data-v-6c680ab1 data-v-9f8bd7ef><div class="VPNavBar has-sidebar" data-v-9f8bd7ef data-v-b6f232ad><div class="container" data-v-b6f232ad><div class="VPNavBarTitle has-sidebar" data-v-b6f232ad data-v-a7d3b13a><a class="title" href="/vue3-admin-boilerplate/" data-v-a7d3b13a><!--[--><!--]--><!----><!--[-->前端技术指南<!--]--><!--[--><!--]--></a></div><div class="content" data-v-b6f232ad><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-b6f232ad data-v-246d2a5b><span id="main-nav-aria-label" class="visually-hidden" data-v-246d2a5b>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-admin-boilerplate/guid/index.html" data-v-246d2a5b data-v-d1a30d9c data-v-ba287fa4><!--[-->首页<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-admin-boilerplate/standard/index.html" data-v-246d2a5b data-v-d1a30d9c data-v-ba287fa4><!--[-->规范指南<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-admin-boilerplate/basic/index.html" data-v-246d2a5b data-v-d1a30d9c data-v-ba287fa4><!--[-->基础配置<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-admin-boilerplate/recommend/index.html" data-v-246d2a5b data-v-d1a30d9c data-v-ba287fa4><!--[-->选型指南<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/vue3-admin-boilerplate/other/index.html" data-v-246d2a5b data-v-d1a30d9c data-v-ba287fa4><!--[-->其他<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-b6f232ad data-v-32e6b796><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-32e6b796 data-v-b530eff2 data-v-eb1881cf><span class="check" data-v-eb1881cf><span class="icon" data-v-eb1881cf><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-b530eff2><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-b530eff2><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-b6f232ad data-v-34676954 data-v-38037e5d><!--[--><a class="VPSocialLink" href="https://github.com/hiliyongke/vue3-admin-boilerplate" target="_blank" rel="noopener" data-v-38037e5d data-v-87f9427e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-b6f232ad data-v-233ea105 data-v-4f36e0ef><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-4f36e0ef><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-4f36e0ef><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-4f36e0ef><div class="VPMenu" data-v-4f36e0ef data-v-8cca40a5><!----><!--[--><!--[--><!----><div class="group" data-v-233ea105><div class="item appearance" data-v-233ea105><p class="label" data-v-233ea105>Appearance</p><div class="appearance-action" data-v-233ea105><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-233ea105 data-v-b530eff2 data-v-eb1881cf><span class="check" data-v-eb1881cf><span class="icon" data-v-eb1881cf><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-b530eff2><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-b530eff2><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-233ea105><div class="item social-links" data-v-233ea105><div class="VPSocialLinks social-links-list" data-v-233ea105 data-v-38037e5d><!--[--><a class="VPSocialLink" href="https://github.com/hiliyongke/vue3-admin-boilerplate" target="_blank" rel="noopener" data-v-38037e5d data-v-87f9427e><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-b6f232ad data-v-7ec7b291><span class="container" data-v-7ec7b291><span class="top" data-v-7ec7b291></span><span class="middle" data-v-7ec7b291></span><span class="bottom" data-v-7ec7b291></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-6c680ab1 data-v-c523e195><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-c523e195><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-c523e195><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-c523e195>Menu</span></button><a class="top-link" href="#" data-v-c523e195> Return to top </a></div><aside class="VPSidebar" data-v-6c680ab1 data-v-929621ae><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-929621ae><span class="visually-hidden" id="sidebar-aria-label" data-v-929621ae> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-929621ae><section class="VPSidebarGroup" data-v-929621ae data-v-97d47d51><div class="title" data-v-97d47d51><h2 class="title-text" data-v-97d47d51>引言</h2><div class="action" data-v-97d47d51><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-97d47d51><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-97d47d51><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-97d47d51><!--[--><!--[--><a class="VPLink link link active" href="/vue3-admin-boilerplate/other/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E8%A7%84%E8%8C%83.html" style="padding-left:0px;" tabindex="-1" data-v-67ca3b02 data-v-ba287fa4><!--[--><span class="link-text" data-v-67ca3b02>怎么落实规范</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6c680ab1 data-v-f3666f58><div class="VPDoc has-sidebar has-aside" data-v-f3666f58 data-v-0f70587b><div class="container" data-v-0f70587b><div class="aside" data-v-0f70587b><div class="aside-curtain" data-v-0f70587b></div><div class="aside-container" data-v-0f70587b><div class="aside-content" data-v-0f70587b><div class="VPDocAside" data-v-0f70587b data-v-e38550e8><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-e38550e8 data-v-d30e24e5><div class="content" data-v-d30e24e5><div class="outline-marker" data-v-d30e24e5></div><div class="outline-title" data-v-d30e24e5>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-d30e24e5><span class="visually-hidden" id="doc-outline-aria-label" data-v-d30e24e5> Table of Contents for current page </span><ul class="root" data-v-d30e24e5 data-v-ba8676ab><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-e38550e8></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-0f70587b><div class="content-container" data-v-0f70587b><!--[--><!--]--><main class="main" data-v-0f70587b><div style="position:relative;" class="vp-doc _vue3-admin-boilerplate_other_%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF%E8%A7%84%E8%8C%83" data-v-0f70587b><div><blockquote><p>导语 在团队成员增加、代码库整洁规范管理、开展开源治理等状况下，一套完整的前端规范流程变得尤为重要，这也是代码工程话的第一步。</p></blockquote><p>| 导语 在团队成员增加、代码库整洁规范管理、开展开源治理等状况下，一套完整的前端规范流程变得尤为重要，这也是代码工程话的第一步。本文将从 JS 代码规范（ESLint+Prettier）、CSS 规范（Stylelint）、Git 工作流规范（Husky + Commitlint 【Commitizen】+ Lint-staged）三个方面介绍前端代码规范的工程化。</p><h3 id="阅读前景概要" tabindex="-1"><a href="#%E9%98%85%E8%AF%BB%E5%89%8D%E6%99%AF%E6%A6%82%E8%A6%81"></a>阅读前景概要 <a class="header-anchor" href="#阅读前景概要" aria-hidden="true">#</a></h3><blockquote><p>本文将从代码编写规范和 GIT 工作流规范需要涉及的专业名词介绍开始介绍到具体项目中的实现的循序编写，如果只想了解操作实践流程，可选择性跳转到文章中具体规范实践中的代码规范实践部分或者 GIT 工作流规范实践部分。</p></blockquote><h3 id="名词介绍" tabindex="-1"><a href="#%E5%90%8D%E8%AF%8D%E4%BB%8B%E7%BB%8D"></a>名词介绍 <a class="header-anchor" href="#名词介绍" aria-hidden="true">#</a></h3><h4 id="_1-代码规范相关" tabindex="-1"><a href="#1-%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83%E7%9B%B8%E5%85%B3"></a>1. 代码规范相关 <a class="header-anchor" href="#_1-代码规范相关" aria-hidden="true">#</a></h4><p><strong>ESLint</strong> ： ESLint 是一款插件化的 JavaScript 代码静态检查工具，其核心是通过对代码解析得到的 AST（Abstract Syntax Tree，抽象语法树）进行模式匹配，来分析代码达到检查代码质量和风格问题的能力。</p><p>具体详情参考链接：<a href="https://eslint.bootcss.com/docs/user-guide/configuring" target="_blank" rel="noreferrer">https://eslint.bootcss.com/docs/user-guide/configuring</a></p><p><strong>Prettier</strong>：Prettier 是一个代码格式化工具，可以格式化代码，但不具备代码检查功能，它可以通过解析代码并使用自己的规则重新打印它，并考虑最大行长来强制一致的样式，并在必要时包装代码，如今，它已成为解决所有代码格式问题的优选方案，支持多种语言，可以将 ESLint 和 Prettier 结合使用，提高代码质量。</p><p>具体详情参考链接：<a href="https://www.prettier.cn/" target="_blank" rel="noreferrer">https://www.prettier.cn/</a></p><blockquote><p>提问：上面 Prettier 的定义一看，是不是觉得和 ESLint 差不了多少？那么，有了 ESLint，为什么还要用 Prettier 呢？<br> 回答：ESLint 虽然是一个代码检测工具，可以检测代码质量问题并给出提示，但是提供的格式化功能有限，在代码风格上面做的不是很好，并且也只能格式化 JS，不支持 CSS,HTML 等语言。而在代码风格上面，Prettier 具有更加强大的功能，并且能够支持包括 JavaScript、TypeScript、各种 CSS、Vue 和 Markdown 等前端绝大部分的语言和文件格式。因此，我们一般会将 ESLint 和 Prettier 一起结合起来使用，用 ESLint 进行代码校验，用 Prettier 统一代码风格。</p></blockquote><p><strong>styleLint</strong>： Stylelint 是一个强大的，现代的代码检查工具，与 ESLint 类似，Stylelint 能够通过定义一系列的编码风格规则帮助我们避免在样式表中出现错误。目前在开源社区上，关于 CSS Lint 的解决方案主要包括了 csslint、SCSS-Lint 和 Stylelint 等几种。而由于 Stylelint 在技术架构上基于 AST 的方式扩展 CSS，除原生 CSS 语法，其也支持 SCSS、Less 这类预处理器，并且也有非常多的第三方插件，因此我们团队选择了 Stylelint 作为 CSS Lint 工具。</p><p>具体详情参考链接：<a href="https://stylelint.io/" target="_blank" rel="noreferrer">https://stylelint.io/</a></p><h4 id="_2-git-工作流规范相关" tabindex="-1"><a href="#2-git%E5%B7%A5%E4%BD%9C%E6%B5%81%E8%A7%84%E8%8C%83%E7%9B%B8%E5%85%B3"></a>2. Git 工作流规范相关 <a class="header-anchor" href="#_2-git-工作流规范相关" aria-hidden="true">#</a></h4><p><strong>Git hook</strong>：git hook，也就是常说的 Git 钩子。和其它版本控制系统一样，Git 能在特定的重要动作发生时触发自定义脚本。有两组这样的钩子：客户端的和服务器端的。 客户端钩子由诸如提交和合并这样的操作所调用，而服务器端钩子作用于诸如接收被推送的提交这样的联网操作。 你可以随心所欲地运用这些钩子。</p><p><strong>Husky</strong>：husky 是常见的 git hook 工具，使用 husky 可以挂载 Git 钩子，当我们本地进行 git commit 或 git push 等操作前，能够执行其它一些操作，比如进行 ESLint 检查，如果不通过，就不允许 commit 或 push。</p><p>具体详情参考链接：<a href="https://github.com/typicode/husky" target="_blank" rel="noreferrer">https://github.com/typicode/husky</a></p><p><strong>Commitlint</strong>： 在使用 Git 提交代码时，通常都需要填写提交说明，也就是 Commit Message。在前面的文章中，已经介绍了如何使用 Commitizen 或可视化工具编写符合规范的 Commit Message。然而有些同学可能还是会使用 git commit 方式提交一些不符合规范的 Commit Message。为了禁止不符合规范的 Commit Message 的提交，我们就需要采用一些工具，只有当开发者编写了符合规范的 Commit Message 才能够进行 commit。而 Commitlint 就是这样一种工具，通过结合 husky 一起使用，可以在开发者进行 commit 前就对 Commit Message 进行检查，只有符合规范，才能够进行 commit。</p><p>具体详情参考链接：<a href="https://commitlint.js.org/#/" target="_blank" rel="noreferrer">https://commitlint.js.org/#/</a></p><p><strong>Lint-staged</strong>： 可以在 git staged 阶段的文件上执行 Linters，简单说就是当我们运行 ESlint 或 Stylelint 命令时，可以通过设置指定只检查我们通过 git add 添加到暂存区的文件，可以避免我们每次检查都把整个项目的代码都检查一遍，从而提高效率。</p><p>具体详情参考链接：<a href="https://github.com/okonet/lint-staged" target="_blank" rel="noreferrer">https://github.com/okonet/lint-staged</a></p><h4 id="_3-对比名词说明" tabindex="-1"><a href="#3-%E5%AF%B9%E6%AF%94%E5%90%8D%E8%AF%8D%E8%AF%B4%E6%98%8E"></a>3. 对比名词说明 <a class="header-anchor" href="#_3-对比名词说明" aria-hidden="true">#</a></h4><p><strong>eslint-config-prettier</strong>： 安装好 Prettier 之后，我们还需要安装 eslint-config-prettier，这是因为 eslint 和 prettier 里面的一些规则可能会存在冲突，这个时候我们就需要安装 eslint-config-prettier，并且关掉所有和 prettier 冲突的 eslint 配置。</p><p>具体详情参考链接：<a href="https://github.com/prettier/eslint-config-prettier" target="_blank" rel="noreferrer">https://github.com/prettier/eslint-config-prettier</a></p><p><strong>eslint-plugin-prettier</strong>：eslint-plugin-prettier 的作用时是将 prettier 的能力集成到 eslint 中，使得我们在运行 eslint 检查我们的代码时，能够按照 prettier 的规则检查代码规范性，并进行修复。</p><p>具体详情参考链接：<a href="https://github.com/prettier/eslint-plugin-prettier" target="_blank" rel="noreferrer">https://github.com/prettier/eslint-plugin-prettier</a></p><h4 id="_4-公司级规范说明" tabindex="-1"><a href="#4-%E5%85%AC%E5%8F%B8%E7%BA%A7%E8%A7%84%E8%8C%83%E8%AF%B4%E6%98%8E"></a>4. 公司级规范说明 <a class="header-anchor" href="#_4-公司级规范说明" aria-hidden="true">#</a></h4><p>JavaScript/TypeScript 编码规范</p><p>Css 编码规范</p><p>公司采用的 eslint 插件： <strong>@tencent/eslint-config-tencent</strong></p><hr><h3 id="代码编写规范实践" tabindex="-1"><a href="#%E4%BB%A3%E7%A0%81%E7%BC%96%E5%86%99%E8%A7%84%E8%8C%83%E5%AE%9E%E8%B7%B5"></a>代码编写规范实践 <a class="header-anchor" href="#代码编写规范实践" aria-hidden="true">#</a></h3><p><strong>[1]. 安装代码编写规范相关的依赖</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">tnpm install  eslint  prettier  @tencent/eslint-config-tencent  eslint-config-prettier eslint-plugin-prettier babel-eslint stylelint stylelint-config-standard --save-dev</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">tnpm install  @typescript-eslint/eslint-plugin @typescript-eslint/parser --save-dev</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">tnpm install stylelint-scss --save-dev</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">tnpm install stylelint-order --save-dev</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>[2]. 目录结构变化</strong></p><ul><li>ESLint 配置规则文件 .eslintrc.js</li><li>Stylelint 配置规则文件 .stylelintrc.js</li><li>Prettier 配置规则文件 .prettierrc.js</li><li>ESLint 配置忽略文件 .eslintignore</li><li>Stylelint 配置忽略文件 .stylelintignore</li><li>Prettier 配置忽略文件 .prettierignore</li></ul><p>温馨提醒： 配置文件主要支持的文件类型有如下三类</p><ul><li>JavaScript（如：eslintrc.js）</li><li>YAML（如：eslintrc.yaml）</li><li>JSON（如：eslintrc.json）</li></ul><p><strong>[3]. 文件参考</strong> 温馨提醒：具体的文件内容按照业务要求配置</p><p>.eslintrc.js 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  root: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  env: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    node: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  extends: [&quot;@tencent/eslint-config-tencent&quot;, &quot;@tencent/eslint-config-tencent/ts&quot;, &quot;prettier&quot;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  parser: [&quot;babel-eslint&quot;,&quot;@typescript-eslint/parser&quot;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  parserOptions: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;ecmaVersion&quot;: 6,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;sourceType&quot;: &quot;module&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;ecmaFeatures&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;jsx&quot;: true</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  rules: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;no-console&quot;: p<wbr>rocess.env.NODE_ENV === &quot;production&quot; ? &quot;warn&quot; : &quot;off&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;no-debugger&quot;: p<wbr>rocess.env.NODE_ENV === &quot;production&quot; ? &quot;warn&quot; : &quot;off&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;@typescript-eslint/naming-convention&quot;: [</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;error&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      {</span></span>
<span class="line"><span style="color:#A6ACCD;">        &quot;selector&quot;: &quot;variable&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">        &quot;modifiers&quot;: [&quot;destructured&quot;],</span></span>
<span class="line"><span style="color:#A6ACCD;">        &quot;format&quot;: null</span></span>
<span class="line"><span style="color:#A6ACCD;">      }</span></span>
<span class="line"><span style="color:#A6ACCD;">    ],</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;@typescript-eslint/no-unused-vars&quot;: [&quot;warn&quot;]</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>.stylelintrc.js 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  extends: [&#39;stylelint-config-standard&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  plugins: [&#39;stylelint-order&#39;],</span></span>
<span class="line"><span style="color:#A6ACCD;">  rules: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;unit-whitelist&quot;: [</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;em&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;rem&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;s&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;%&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;px&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;vh&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;vw&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ],</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;color-hex-case&quot;: &quot;lower&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;number-leading-zero&quot;: &quot;always&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>.prettierrc.js 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">module.exports = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  printWidth: 120,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  tabWidth: 2,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  useTabs: false,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  semi: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  singleQuote: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  quoteProps: &#39;as-needed&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  jsxSingleQuote: false,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  trailingComma: &#39;all&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  bracketSpacing: true,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  jsxBracketSameLine: false,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  arrowParens: &#39;always&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  rangeStart: 0,</span></span>
<span class="line"><span style="color:#A6ACCD;">  rangeEnd: null,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  requirePragma: false,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  insertPragma: false,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  proseWrap: &#39;preserve&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  htmlWhitespaceSensitivity: &#39;css&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  vueIndentScriptAndStyle: false,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  endOfLine: &#39;lf&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  embeddedLanguageFormatting: &#39;auto&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>.eslintignore 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">dist</span></span>
<span class="line"><span style="color:#A6ACCD;">node_modules</span></span>
<span class="line"><span style="color:#A6ACCD;">package.json</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>.stylelintignore 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">dist</span></span>
<span class="line"><span style="color:#A6ACCD;">node_modules</span></span>
<span class="line"><span style="color:#A6ACCD;">package.json</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>.prettierignore 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">dist</span></span>
<span class="line"><span style="color:#A6ACCD;">node_modules</span></span>
<span class="line"><span style="color:#A6ACCD;">.eslintignore</span></span>
<span class="line"><span style="color:#A6ACCD;">.prettierignore</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>[4].package.json 中配置使用</strong> 例如：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">  &quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;lint&quot;: &quot;eslint --fix --ext .js,.ts,tsx,.vue src&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;format&quot;: &quot;prettier --write &#39;*/.{js,ts,tsx,vue,scss}&#39;&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><hr><h3 id="git-工作流规范实践" tabindex="-1"><a href="#git%E5%B7%A5%E4%BD%9C%E6%B5%81%E8%A7%84%E8%8C%83%E5%AE%9E%E8%B7%B5"></a>GIT 工作流规范实践 <a class="header-anchor" href="#git-工作流规范实践" aria-hidden="true">#</a></h3><h4 id="_1-安装-git-工作流规范依赖" tabindex="-1"><a href="#1-%E5%AE%89%E8%A3%85git%E5%B7%A5%E4%BD%9C%E6%B5%81%E8%A7%84%E8%8C%83%E4%BE%9D%E8%B5%96"></a>1. 安装 GIT 工作流规范依赖 <a class="header-anchor" href="#_1-安装-git-工作流规范依赖" aria-hidden="true">#</a></h4><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">tnpm install husky lint-staged @commitlint/config-conventional  @commitlint/lint  git-repo-info --save-dev</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h4 id="_2-git-工作流规范配置步骤" tabindex="-1"><a href="#2-git%E5%B7%A5%E4%BD%9C%E6%B5%81%E8%A7%84%E8%8C%83%E9%85%8D%E7%BD%AE%E6%AD%A5%E9%AA%A4"></a>2. GIT 工作流规范配置步骤 <a class="header-anchor" href="#_2-git-工作流规范配置步骤" aria-hidden="true">#</a></h4><p><strong>【1】在 packgae.json 中添加 prepare 脚本</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;prepare&quot;: &quot;husky install&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>prepare 脚本会在 <code>npm install</code> （不带参数）之后自动执行。也就是说当我们执行 npm install 安装完项目依赖后会执行 <code>husky install</code> 命令，该命令会创建. husky / 目录并指定该目录为 git hooks 所在的目录。</p><p><strong>【2】添加 git hooks，运行一下命令创建 git hooks</strong></p><p>npx husky add .husky/pre-commit &quot;npx lint-staged&quot; 运用结果：.husky / 目录下新增了一个名为 pre-commit 的 shell 脚本 说明：npx lint-staged 此处是预先命令 执行的内容请查看文章中 lint-staged 配置部分</p><p><strong>【3】使用 commit-msg 这个 git hook 来校验我们 commit 时添加的备注信息是否符合规范</strong></p><p>npx husky add .husky/commit-msg &#39;npx --no-install commitlint --edit&quot;$1&quot;&#39; 运行结果：.husky / 目录下新增了一个名为 commit-msg 的 shell 脚本 说明：shell 脚本中可自由编写脚本，满足项目需求，例如可以写：node ./build/commit-msg.js 这里将会在使用 git commit 的时候执行此脚本。</p><p>commit-msg.js 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">const fs = require(&#39;fs&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">const info = require(&#39;git-repo-info&#39;)();</span></span>
<span class="line"><span style="color:#A6ACCD;">const commitLint = require(&#39;@commitlint/lint&#39;).default;</span></span>
<span class="line"><span style="color:#A6ACCD;">const conventional = require(&#39;@commitlint/config-conventional&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const { merge } = require(&#39;lodash&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const commitLintConfig = merge({}, conventional.rules, {</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;type-enum&#39;: [</span></span>
<span class="line"><span style="color:#A6ACCD;">    2,</span></span>
<span class="line"><span style="color:#A6ACCD;">    &#39;always&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    [</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;build&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;chore&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;feat&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;fix&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;i18n&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;perf&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;refactor&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;style&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;docs&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">    ],</span></span>
<span class="line"><span style="color:#A6ACCD;">  ],</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;subject-case&#39;: [0],</span></span>
<span class="line"><span style="color:#A6ACCD;">});</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">async function lint(message, rules) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  const messageWithoutEmoji = message.replace(/^:\w+?:/, &#39;&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  const report = await commitLint(messageWithoutEmoji, rules);</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (!report.valid) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;请按此格式填写 commit message —— type(scope?): subject（例如：git commit -m &quot;fix(business): 修复XXX的bug&lt;注意:后有空格&gt;&quot;）&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    );</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(</span></span>
<span class="line"><span style="color:#A6ACCD;">      &#39;其中 type 可以是：feat(新特性), fix(修复bug), perf(优化相关，比如提升性能、体验), style(UI界面相关), docs(文档)`，scope 表示模块，可以省略，subject 为详细内容&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">    );</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(&#39;例如：feat(dns): 新增某某特性&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    console.log(report.errors.map((i) =&gt; i.message).join(&#39;\n&#39;));</span></span>
<span class="line"><span style="color:#A6ACCD;">    process.exit(1);</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">const EMOJI_MAP = {</span></span>
<span class="line"><span style="color:#A6ACCD;">  build: &#39;:rocket:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  chore: &#39;:wrench:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  feat: &#39;:sparkles:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  fix: &#39;:bug:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  i18n: &#39;:globe_with_meridians:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  perf: &#39;:zap:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  refactor: &#39;:recycle:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  style: &#39;:lipstick:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  docs: &#39;:memo:&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">function format(line) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  const matches = line.match(</span></span>
<span class="line"><span style="color:#A6ACCD;">    /^\s*(:\w+?:)?\s*(\w+)\s*(\(.*?\))?\s*:\s*(.+?)\s*(?:\[(.+?)\])?\s*$/</span></span>
<span class="line"><span style="color:#A6ACCD;">  );</span></span>
<span class="line"><span style="color:#A6ACCD;">  if (!matches) return line;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  const [emoji = &#39;&#39;, type, scope = &#39;&#39;, subject, branch = info.branch] = matches;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  console.log(subject, branch);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  return `${emoji || EMOJI_MAP[type]}${type}${scope}: ${subject} ${</span></span>
<span class="line"><span style="color:#A6ACCD;">    branch === &#39;master&#39; ? &#39;&#39; : `[${branch}]`</span></span>
<span class="line"><span style="color:#A6ACCD;">  }`.trim();</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">async function main() {</span></span>
<span class="line"><span style="color:#A6ACCD;">  const messageFile = process.argv[2];</span></span>
<span class="line"><span style="color:#A6ACCD;">  const messages = fs.readFileSync(messageFile, {</span></span>
<span class="line"><span style="color:#A6ACCD;">    encoding: &#39;utf-8&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  });</span></span>
<span class="line"><span style="color:#A6ACCD;">  const lines = messages.split(&#39;\n&#39;);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  let currentMessage = lines[0];</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  await lint(currentMessage, commitLintConfig);</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">  currentMessage = format(currentMessage);</span></span>
<span class="line"><span style="color:#A6ACCD;">  lines[0] = currentMessage;</span></span>
<span class="line"><span style="color:#A6ACCD;">  fs.writeFileSync(messageFile, lines.join(&#39;\n&#39;), {</span></span>
<span class="line"><span style="color:#A6ACCD;">    encoding: &#39;utf-8&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  });</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">main();</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><strong>【4】lint-staged 配置</strong></p><p>在项目目录下新建. lintstagedrc.json 在文件中配置相关内容即可或者直接在 package.json 中配置 .lintstagedrc.json 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;src/**/*.{js,vue,ts,jsx,tsx}&quot;: [</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;npx eslint --cache --fix&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ]</span></span>
<span class="line"><span style="color:#A6ACCD;">};</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>package.json 参考例子</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;lint-staged&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;src/**/*.{js,vue,ts,jsx,tsx}&quot;: &quot;npx eslint --cache --fix&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><blockquote><p>问题：lint-staged 在多包 monorepo 中使用？<br> 回答：在 monorepo 根级别安装 lint-staged ，并在每个包中添加单独的配置文件。运行时，lint-staged 将始终使用最接近暂存文件的配置，因此拥有单独的配置文件可确保 linter 不会 “泄漏” 到其他包中。例如，在带有 packages/frontend/.lintstagedrc.json 的 monorepo 中 packages/backend/.lintstagedrc.json，里面的暂存文件 packages/frontend / 只会匹配该配置，而不是 packages/backend/.<br><strong>注意</strong>：lint-staged 会发现与每个暂存文件最接近的配置，即使该配置不包含任何匹配的 glob。鉴于这些示例配置：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">{  &quot;*.md&quot; : &quot;prettier --write&quot;  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">{  &quot;*.js&quot; : &quot;eslint --fix&quot;  }</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>提交时./packages/frontend/README.md，它不会运行 prettier，因为 frontend / 目录中的配置更接近文件并且不包含它。您应该将所有 lint-staged 配置文件视为相互隔离和分离的。您始终可以使用 JS 文件来 “扩展” 配置，例如：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">import baseConfig from &#39;../.lintstagedrc.js&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">​</span></span>
<span class="line"><span style="color:#A6ACCD;">export default {</span></span>
<span class="line"><span style="color:#A6ACCD;">  ...baseConfig,</span></span>
<span class="line"><span style="color:#A6ACCD;">  &#39;*.js&#39;: &#39;eslint --fix&#39;,</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>此回答来源于 <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noreferrer">https://github.com/okonet/lint-staged</a> 中，更多请参考此网页内容。</p></blockquote><p><strong>【5】可选择的提交代码方式 commitizen</strong></p><p>执行到第四步已完成了相关配置，使用 git commit -m &quot;type(scope): some comment&quot; 即可完成提交任务，但如果需要按照完整规范来执行，可安装 commitizen。 第一步：tnpm install commitizen cz-conventional-changelog --save-dev 第二步：打开项目的 package.json 文件，配置如下</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;commit&quot;: &quot;git-cz&quot;,</span></span>
<span class="line"><span style="color:#A6ACCD;">  },</span></span>
<span class="line"><span style="color:#A6ACCD;">  &quot;config&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;commitizen&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">      &quot;path&quot;: &quot;./node_modules/cz-conventional-changelog&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>path 为 cz-conventional-changelog 包相对于项目根目录的路径。 安装完即可使用 npm run commit 脚本来代替 git commit</p><p>具体可参考 <a href="https://github.com/commitizen/cz-cli" target="_blank" rel="noreferrer">https://github.com/commitizen/cz-cli</a></p><p><strong>【6】生成 CHANGELOG</strong></p><p>第一步：tnpm install conventional-changelog-cli --save-dev 第二步：在 package.json 中，增加一个 script 命令</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">&quot;scripts&quot;: {</span></span>
<span class="line"><span style="color:#A6ACCD;">    &quot;changelog&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p>使用 npm run changelog，就能生成一份更改日志 <a href="http://CHANGELOG.md" target="_blank" rel="noreferrer">CHANGELOG.md</a>。</p><h3 id="总结" tabindex="-1"><a href="#%E6%80%BB%E7%BB%93"></a>总结 <a class="header-anchor" href="#总结" aria-hidden="true">#</a></h3><p>前端工程化之代码编写规范和 GIT 工作流规范是每个团队应该有的一个环节而且是很重要的一个环节，此规范约束了开发者的编码和提交规范。做好这些会让开发者不管在代码的提升上有所帮助，而且也能在 code review 或者回溯代码时提供积极作用。</p></div></div></main><!--[--><!--]--><!----><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-6c680ab1 data-v-381fb06f><div class="container" data-v-381fb06f><!----><p class="copyright" data-v-381fb06f>Copyright @ 2021-2022 xxx. All Rights Reserved</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"standard_index.md\":\"53b87203\",\"basic_component.md\":\"f406a4af\",\"basic_index.md\":\"32c4e18e\",\"basic_mock.md\":\"610dd7e6\",\"basic_request.md\":\"6dd0b7e5\",\"basic_svg.md\":\"e67cedbb\",\"index.md\":\"97c5109d\",\"other_docker_nginx.md\":\"d8b0df95\",\"other_index.md\":\"21725458\",\"other_代码脱敏.md\":\"809fef9c\",\"other_前端规范是什么.md\":\"7af6eff2\",\"other_命名规范.md\":\"fc5d925d\",\"recommend_index.md\":\"591ca065\",\"recommend_technology_stack.md\":\"d4b00830\",\"standard_format.md\":\"717897a8\",\"standard_git.md\":\"92d6d60d\",\"standard_ignore.md\":\"7ff1397b\",\"standard_name.md\":\"401ae20c\",\"standard_structure.md\":\"d092df58\",\"vite-plugins_pages_layouts.md\":\"e1a17265\",\"vite-plugins_常见插件介绍.md\":\"b9f5c5ab\",\"basic_style.md\":\"1b8bc8af\",\"other_前端技术规范.md\":\"89664478\",\"standard_code.md\":\"d2107ee0\",\"recommend_vscode.md\":\"2af8a8a3\",\"standard_comments.md\":\"d26e2803\",\"basic_version.md\":\"e8fdc345\",\"guid_index.md\":\"698e9f5d\",\"从 0 搭建 vite 3 _ vue 3 前端工程化项目.md\":\"e292fd37\",\"guid_readme.md\":\"a444e45d\",\"standard_css.md\":\"80c3d697\",\"standard_doc.md\":\"63d73e62\",\"standard_javascript.md\":\"2475a3ca\"}")</script>
    <script type="module" async src="/vue3-admin-boilerplate/assets/app.84281fb6.js"></script>
    
  </body>
</html>