# ğŸ“¦ packages ç›®å½•ç§»é™¤è¯´æ˜

## èƒŒæ™¯

åŸé¡¹ç›®åŒ…å« `packages/` ç›®å½•ï¼Œå­˜æ”¾äº†ä»¥ä¸‹å­åŒ…ï¼š

- `packages/itools` - è‡ªå®šä¹‰å·¥å…·åº“
- `packages/logger` - è‡ªå®šä¹‰æ—¥å¿—åº“
- `packages/indexeddb-helper` - IndexedDB è¾…åŠ©åº“
- `packages/deploy-cli` - éƒ¨ç½² CLI å·¥å…·

ç»è¿‡æ’æŸ¥ï¼Œè¿™äº›å­åŒ…åœ¨ä¸»åº”ç”¨ä¸­**ä»…ç”¨äºå†…è”å¼•å…¥æºä»£ç **ï¼Œä¸”å­˜åœ¨æ›´ç°ä»£ã€æ›´è½»é‡çš„åŸç”Ÿå®ç°ã€‚ä¸ºé™ä½ç»´æŠ¤æˆæœ¬ã€å‡å°‘ä¾èµ–å¤æ‚åº¦ï¼Œæˆ‘ä»¬å°†è¿™äº›å­åŒ…çš„åŠŸèƒ½è¿ç§»è¿›ä¸»åº”ç”¨æˆ–ç§»é™¤ä¸ç”¨çš„éƒ¨åˆ†ï¼Œæœ€ç»ˆåˆ é™¤ `packages/` ç›®å½•ã€‚

---

## å¤„ç†æ­¥éª¤

### 1. åŠŸèƒ½è¿ç§»

#### 1.1 itools
- **åŸç”¨é€”**ï¼šé€šè¿‡ `app.config.globalProperties.$itools` æš´éœ²å…¨å±€å·¥å…·åº“
- **å¤„ç†æ–¹æ¡ˆ**ï¼šç§»é™¤ä¾èµ–ï¼Œä¿ç•™ VueUse å’Œå†…ç½®å·¥å…·å³å¯
- **å˜æ›´æ–‡ä»¶**ï¼š
  - `src/plugins/global-properties.ts` ç§»é™¤ `$itools`

#### 1.2 logger
- **åŸç”¨é€”**ï¼šè‡ªå®šä¹‰å‰ç«¯æ—¥å¿—ç³»ç»Ÿ
- **å¤„ç†æ–¹æ¡ˆ**ï¼šå·²å­˜åœ¨æ–°çš„ TypeScript ç‰ˆ `src/shared/utils/logger.ts`ï¼Œç›´æ¥ä½¿ç”¨
- **å˜æ›´æ–‡ä»¶**ï¼š
  - `src/plugins/logger.ts` æ”¹ä¸ºä½¿ç”¨å†…ç½® loggerï¼Œå¹¶æ”¯æŒé…ç½®ä¸ŠæŠ¥
  - `package.json` ç§»é™¤ workspace ä¾èµ–

#### 1.3 indexeddb-helper
- **åŸç”¨é€”**ï¼šæ—§çš„ IndexedDB å·¥å…·
- **å¤„ç†æ–¹æ¡ˆ**ï¼šæœªè¢«å¼•ç”¨ï¼Œç›´æ¥ç§»é™¤

#### 1.4 deploy-cli
- **åŸç”¨é€”**ï¼šè€æ—§çš„éƒ¨ç½² CLI
- **å¤„ç†æ–¹æ¡ˆ**ï¼šåŠŸèƒ½å·²ç”± GitHub Actions + Docker å–ä»£ï¼Œç›´æ¥ç§»é™¤

---

### 2. ä¾èµ–ä¸é…ç½®æ¸…ç†

- ç§»é™¤ `package.json` ä¸­çš„ `workspace:*` ä¾èµ–
- æ›´æ–° `pnpm-workspace.yaml`ï¼Œå»æ‰ `packages/*`
- æ›´æ–° `tsconfig.json` çš„ `exclude` é…ç½®
- åˆ é™¤ `packages/` ç›®å½•

---

## å˜æ›´æ‘˜è¦

| æ–‡ä»¶ | å˜æ›´è¯´æ˜ |
|------|----------|
| `src/plugins/global-properties.ts` | ç§»é™¤ `$itools` 
| `src/plugins/logger.ts` | æ”¹ç”¨å†…ç½® `logger` æ¨¡å— |
| `package.json` | åˆ é™¤ `itools` å’Œ `logger` ä¾èµ–ã€ç§»é™¤ `start:*` è„šæœ¬ |
| `pnpm-workspace.yaml` | ä»…ä¿ç•™ `packages/*`ï¼ˆå·²æ¸…ç†åœ¨ä¸Šä¸€è½®ï¼‰ |
| `tsconfig.json` | åˆ é™¤ `packages/**` æ’é™¤é¡¹ |
| `packages/` | æ•´ä¸ªç›®å½•åˆ é™¤ |
| `docs/guides/PROJECT_CLEANUP_2.md` | å·²è®°å½•ç›¸å…³å†…å®¹ |
| `docs/guides/PACKAGES_REMOVAL.md` | æ–°å¢æ­¤æ–‡æ¡£ |

---

## éªŒè¯

1. è¿è¡Œå•å…ƒæµ‹è¯•ï¼š
   ```bash
   pnpm test:unit
   ```
2. è¿è¡Œ E2E æµ‹è¯•ï¼š
   ```bash
   pnpm test:e2e
   ```
3. å¯åŠ¨å¼€å‘ç¯å¢ƒï¼š
   ```bash
   pnpm dev
   ```

---

## ä¿éšœæªæ–½

- ç§»é™¤å‰å·²ç¡®è®¤æ— å¤–éƒ¨å¼•ç”¨
- æ–°çš„ `logger` æ¨¡å—åŠŸèƒ½æ›´å¼ºå¤§ã€ç±»å‹æ›´å®Œå–„
- VueUse æä¾›çš„å·¥å…·å‡½æ•°è¶³å¤Ÿè¦†ç›–åŸ `itools`
- æ„å»ºã€æµ‹è¯•å‘½ä»¤å‡é€šè¿‡éªŒè¯

---

## ä¸‹ä¸€æ­¥å»ºè®®

- å¦‚æœéœ€è¦é¢å¤–çš„å·¥å…·å‡½æ•°ï¼Œå¯æ•´ç†åˆ° `src/shared/utils/` ä¸‹
- æ—¥å¿—ä¸ŠæŠ¥å¯ç»“åˆ Sentry æˆ–è‡ªå®šä¹‰ä¸ŠæŠ¥æ¥å£
- è‹¥æœªæ¥éœ€è¦å‘å¸ƒç‹¬ç«‹ npm åŒ…ï¼Œå†é‡æ–°å¼•å…¥ Monorepo ç»“æ„

---

**ç§»é™¤å®Œæˆæ—¶é—´**: 2025-10-22  
**ç§»é™¤å†…å®¹**: `packages/` ç›®å½•åŠå…³è”é…ç½®  
**çŠ¶æ€**: âœ… å®Œæˆ
