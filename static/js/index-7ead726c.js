var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,r=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&s(e,n,t[n]);return e},i=(e,a)=>t(e,n(a));import{ba as d,bb as u,bc as c,bd as b,be as p,bf as m,bg as h,bh as g,bi as f,bj as v,d as y,g as w,k as S,h as k,aj as j,aY as x,bk as C,bl as O,bm as z,bn as V,bo as W,bp as T,bq as H,br as A,bs as B,bt as P,bu as U,bv as D,bw as _,j as q,c as F,a as E,t as L,w as I,bx as M,by as Y,F as J,r as N,y as R,u as G,A as K,n as Q,p as X,b as Z,o as $}from"./.pnpm-86d57c44.js";import{_ as ee}from"./index-d48c677b.js";const te=Symbol("vue-codemirror-global-config"),ne=e=>{var t=e,{config:n}=t,s=((e,t)=>{var n={};for(var s in e)o.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&a)for(var s of a(e))t.indexOf(s)<0&&l.call(e,s)&&(n[s]=e[s]);return n})(t,["config"]);const r=Array.isArray(n.extensions)?n.extensions:[n.extensions];return u.create({doc:n.doc,selection:n.selection,extensions:[...r,c.updateListener.of(e=>{s.onUpdate(e),e.docChanged&&s.onChange(e.state.doc.toString(),e),e.focusChanged&&(e.view.hasFocus?s.onFocus(e):s.onBlur(e))})]})},ae=()=>{const e=new g;return{compartment:e,run:(t,n)=>{e.get(t.state)?t.dispatch({effects:e.reconfigure(n)}):t.dispatch({effects:f.appendConfig.of(e.of(n))})}}},oe=()=>ae().run,le=e=>{const{compartment:t,run:n}=ae();return(a,o)=>{const l=t.get(a.state);n(a,(null!=o?o:l!==e)?e:[])}},se=e=>b(e),re=()=>[c.editable.of(!1),u.readOnly.of(!0)],ie=()=>p.of([m]),de=e=>[u.tabSize.of(e),h.of(" ".repeat(e))],ue=e=>c.theme({"&":r({},e)}),ce={autofocus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},indentWithTab:{type:Boolean,default:void 0},tabSize:Number,placeholder:String,style:Object,root:Object,extensions:Array,selection:Object},be=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",extensions:[v]}),pe=y({name:"VueCodemirror",props:r({modelValue:{type:String,required:!1,default:""}},ce),emits:{"update:modelValue":(e,t)=>!0,change:(e,t)=>!0,update:e=>!0,focus:e=>!0,blur:e=>!0,ready:e=>!0},setup(e,t){const n=w(),a={view:null,state:null},o=r(r({},be),d(te,{})),l=S(()=>Object.keys(e).reduce((t,n)=>{var a;return i(r({},t),{[n]:null!=(a=e[n])?a:o[n]})},{}));return k(()=>{a.state=ne({config:{doc:e.modelValue,selection:l.value.selection,extensions:o.extensions},onFocus:e=>t.emit("focus",e),onBlur:e=>t.emit("blur",e),onUpdate:e=>t.emit("update",e),onChange:(n,a)=>{n!==e.modelValue&&(t.emit("update:modelValue",n,a),t.emit("change",n,a))}}),a.view=new c({state:a.state,parent:n.value,root:l.value.root});const s=oe();j(()=>e.extensions,e=>s(a.view,e||[]),{immediate:!0});const d=le(re());j(()=>l.value.disabled,e=>d(a.view,e),{immediate:!0});const u=le(ie());j(()=>l.value.indentWithTab,e=>u(a.view,e),{immediate:!0});const b=oe();j(()=>l.value.tabSize,e=>b(a.view,de(e)),{immediate:!0});const p=oe();j(()=>l.value.placeholder,e=>p(a.view,se(e)),{immediate:!0});const m=oe();j(()=>l.value.style,e=>m(a.view,ue(e)),{immediate:!0}),j(()=>e.modelValue,e=>{e!==a.view.state.doc.toString()&&((e,t)=>{e.dispatch({changes:{from:0,to:e.state.doc.length,insert:t}})})(a.view,e)}),l.value.autofocus&&a.view.focus(),t.emit("ready",i(r({},a),{container:n.value}))}),x(()=>{a.view.destroy()}),()=>C("div",{class:"v-codemirror",style:{display:"contents"},ref:n})}}),me={javascript:"for (let i = 0; i < 3; i++) {\n    console.log('hello world')\n}",html:"<html>\n\t<head>\n\t\t\t<style>\n\t\t\th1 {\n\t\t\t\t\tfont-size: 30px; \n\t\t\t\t\tcolor: red;\n\t\t\t}\n\t\t\t</style>\n\t</head>\n\t<body style=\"background-color:white\">\n\t\t\t<h1>Hello HTML/CSS/JS! Hot reload!</h1>\n\t\t\t<script>\n\t\t\t\t\tconsole.log('hello world!')\n\t\t\t<\/script>\n\t</body>\n</html>",json:"{\n    name:'张三',\n    gender:'男',\n    age:20\n}",markdown:"## 欢迎使用markdown\n\t+ 简单\n\t+ 好用\n\t",cpp:'#include <iostream>\nusing namespace std;\n\t \n// main() 是程序开始执行的地方\n\t \nint main()\n{\n\t\tcout << "Hello World"; // 输出 Hello World\n\t\treturn 0;\n}',java:'import java.util.Scanner;\n\npublic class Main {\n\t\n\t\tpublic static void main(final String[] args) {\n\t\t\t\tSystem.out.println("What\'s your name?");\n\t\t\t\tScanner scanner = new Scanner(System.in);\n\t\t\t\tString a = scanner.nextLine();\n\t\t\t\tSystem.out.println("Hello, " + a);\n\t\t}\n\t\n}',php:'<!DOCTYPE html>\n<html>\n<body>\n\n<?php\necho "Hello World!";\n?>\n\n</body>\n</html>\t\n',python:'#!/usr/bin/python\n\nprint ("Hello, Python!")',rust:'[package]\nname = "my-project"\nversion = "0.1.0"\nauthors = ["runner"]\nedition = "2021"\n\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n\n[dependencies]',sql:"SHOW DATABASES;"},he=e=>(X("data-v-951f1682"),e=e(),Z(),e),ge={class:"content-box"},fe={class:"example"},ve={class:"toolbar"},ye={class:"state"},we={class:"config"},Se=he(()=>E("label",{for:"tabSize"},"tabSize:",-1)),ke=he(()=>E("label",{for:"backgroundColor"},"backgroundColor:",-1)),je=["value"],xe=he(()=>E("label",{for:"language"},"language:",-1)),Ce=["value"],Oe=he(()=>E("label",{for:"theme"},"theme:",-1)),ze=["value"],Ve={class:"content"},We=y({name:"editor"}),Te=ee(y(i(r({},We),{setup(e){const t={oneDark:O},n={javascript:z(),html:V(),json:W(),markdown:T(),cpp:H(),java:A(),php:B(),python:P(),rust:U(),sql:D()},a=console.log,o=S(()=>me[s.language]||"暂无该语言内容"),l=_(),s=q({disabled:!1,indentWithTab:!0,tabSize:2,autofocus:!0,placeholder:"code...",backgroundColor:"white",language:"javascript",theme:"oneDark"}),r=S(()=>{const e=[];return e.push(n[s.language]),t[s.theme]&&e.push(t[s.theme]),e});return k(()=>{}),(e,t)=>($(),F("div",ge,[E("div",fe,[E("div",ve,[E("pre",ye,L(s),1),E("div",we,[E("p",null,[E("button",{onClick:t[0]||(t[0]=e=>s.disabled=!s.disabled)}," toggle disabled ")]),E("p",null,[E("button",{onClick:t[1]||(t[1]=e=>s.autofocus=!s.autofocus)}," toggle autofocus ")]),E("p",null,[E("button",{onClick:t[2]||(t[2]=e=>s.indentWithTab=!s.indentWithTab)}," toggle indentWithTab ")]),E("p",null,[Se,I(E("input",{id:"tabSize","onUpdate:modelValue":t[3]||(t[3]=e=>s.tabSize=e),type:"range",min:"2",max:"10",step:"1"},null,512),[[M,s.tabSize,void 0,{number:!0}]])]),E("p",null,[ke,I(E("select",{id:"backgroundColor","onUpdate:modelValue":t[4]||(t[4]=e=>s.backgroundColor=e),name:"backgroundColor"},[($(),F(J,null,N(["white","red","black","yellow","lawngreen","blue"],e=>E("option",{key:e,value:e},L(e),9,je)),64))],512),[[Y,s.backgroundColor]])]),E("p",null,[xe,I(E("select",{id:"language","onUpdate:modelValue":t[5]||(t[5]=e=>s.language=e),name:"language"},[($(),F(J,null,N(["javascript","html","json","markdown","cpp","java","php","python","rust","sql"],e=>E("option",{key:e,value:e},L(e),9,Ce)),64))],512),[[Y,s.language]])]),E("p",null,[Oe,I(E("select",{id:"theme","onUpdate:modelValue":t[6]||(t[6]=e=>s.theme=e),name:"theme"},[($(),F(J,null,N(["default","oneDark"],e=>E("option",{key:e,value:e},L(e),9,ze)),64))],512),[[Y,s.theme]])])])]),E("div",Ve,[R(G(pe),{ref_key:"cm",ref:l,modelValue:G(o),"onUpdate:modelValue":t[7]||(t[7]=e=>K(o)?o.value=e:null),class:"codemirror",autofocus:s.autofocus,placeholder:s.placeholder,"indent-with-tab":s.indentWithTab,"tab-size":s.tabSize,disabled:s.disabled,style:Q({backgroundColor:s.backgroundColor}),extensions:G(r),onReady:t[8]||(t[8]=e=>G(a)("ready",e)),onChange:t[9]||(t[9]=e=>G(a)("change",e)),onFocus:t[10]||(t[10]=e=>G(a)("focus",e)),onBlur:t[11]||(t[11]=e=>G(a)("blur",e))},null,8,["modelValue","autofocus","placeholder","indent-with-tab","tab-size","disabled","style","extensions"])])])]))}})),[["__scopeId","data-v-951f1682"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/demo/editor/index.vue"]]);export{Te as default};
//# sourceMappingURL=index-7ead726c.js.map
