var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,r=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&s(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&s(e,n,t[n]);return e},i=(e,a)=>t(e,n(a));import{be as d,bf as u,bg as c,bh as b,bi as p,bj as m,bk as h,bl as g,bm as f,d as v,g as y,k as w,h as S,a7 as k,b1 as j,bn as C,bo as x,bp as O,bq as z,br as V,bs as W,bt as T,bu as H,bv as A,bw as B,bx as P,by as U,bz as D,j as q,c as F,a as _,t as E,w as L,bA as I,bB as M,F as J,r as N,y as R,u as Y,A as G,n as K,p as Q,b as X,o as Z,bC as $}from"./.pnpm-e6c61d32.js";import{_ as ee}from"./index-4900769b.js";const te=Symbol("vue-codemirror-global-config"),ne=e=>{var t=e,{config:n}=t,s=((e,t)=>{var n={};for(var s in e)o.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&a)for(var s of a(e))t.indexOf(s)<0&&l.call(e,s)&&(n[s]=e[s]);return n})(t,["config"]);const r=Array.isArray(n.extensions)?n.extensions:[n.extensions];return u.create({doc:n.doc,selection:n.selection,extensions:[...r,c.updateListener.of(e=>{s.onUpdate(e),e.docChanged&&s.onChange(e.state.doc.toString(),e),e.focusChanged&&(e.view.hasFocus?s.onFocus(e):s.onBlur(e))})]})},ae=()=>{const e=new g;return{compartment:e,run:(t,n)=>{e.get(t.state)?t.dispatch({effects:e.reconfigure(n)}):t.dispatch({effects:f.appendConfig.of(e.of(n))})}}},oe=()=>ae().run,le=e=>{const{compartment:t,run:n}=ae();return(a,o)=>{const l=t.get(a.state);n(a,(null!=o?o:l!==e)?e:[])}},se=e=>b(e),re=()=>[c.editable.of(!1),u.readOnly.of(!0)],ie=()=>p.of([m]),de=e=>[u.tabSize.of(e),h.of(" ".repeat(e))],ue=e=>c.theme({"&":r({},e)}),ce={autofocus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},indentWithTab:{type:Boolean,default:void 0},tabSize:Number,placeholder:String,style:Object,root:Object,extensions:Array,selection:Object},be=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",extensions:[x]}),pe=v({name:"VueCodemirror",props:r({modelValue:{type:String,required:!1,default:""}},ce),emits:{"update:modelValue":(e,t)=>!0,change:(e,t)=>!0,update:e=>!0,focus:e=>!0,blur:e=>!0,ready:e=>!0},setup(e,t){const n=y(),a={view:null,state:null},o=r(r({},be),d(te,{})),l=w(()=>Object.keys(e).reduce((t,n)=>{var a;return i(r({},t),{[n]:null!=(a=e[n])?a:o[n]})},{}));return S(()=>{a.state=ne({config:{doc:e.modelValue,selection:l.value.selection,extensions:o.extensions},onFocus:e=>t.emit("focus",e),onBlur:e=>t.emit("blur",e),onUpdate:e=>t.emit("update",e),onChange:(n,a)=>{n!==e.modelValue&&(t.emit("update:modelValue",n,a),t.emit("change",n,a))}}),a.view=new c({state:a.state,parent:n.value,root:l.value.root});const s=oe();k(()=>e.extensions,e=>s(a.view,e||[]),{immediate:!0});const d=le(re());k(()=>l.value.disabled,e=>d(a.view,e),{immediate:!0});const u=le(ie());k(()=>l.value.indentWithTab,e=>u(a.view,e),{immediate:!0});const b=oe();k(()=>l.value.tabSize,e=>b(a.view,de(e)),{immediate:!0});const p=oe();k(()=>l.value.placeholder,e=>p(a.view,se(e)),{immediate:!0});const m=oe();k(()=>l.value.style,e=>m(a.view,ue(e)),{immediate:!0}),k(()=>e.modelValue,e=>{e!==a.view.state.doc.toString()&&((e,t)=>{e.dispatch({changes:{from:0,to:e.state.doc.length,insert:t}})})(a.view,e)}),l.value.autofocus&&a.view.focus(),t.emit("ready",i(r({},a),{container:n.value}))}),j(()=>{a.view.destroy()}),()=>C("div",{class:"v-codemirror",style:{display:"contents"},ref:n})}}),me={javascript:"for (let i = 0; i < 3; i++) {\n    console.log('hello world')\n}",html:"<html>\n\t<head>\n\t\t\t<style>\n\t\t\th1 {\n\t\t\t\t\tfont-size: 30px; \n\t\t\t\t\tcolor: red;\n\t\t\t}\n\t\t\t</style>\n\t</head>\n\t<body style=\"background-color:white\">\n\t\t\t<h1>Hello HTML/CSS/JS! Hot reload!</h1>\n\t\t\t<script>\n\t\t\t\t\tconsole.log('hello world!')\n\t\t\t<\/script>\n\t</body>\n</html>",json:"{\n    name:'张三',\n    gender:'男',\n    age:20\n}",markdown:"## 欢迎使用markdown\n\t+ 简单\n\t+ 好用\n\t",cpp:'#include <iostream>\nusing namespace std;\n\t \n// main() 是程序开始执行的地方\n\t \nint main()\n{\n\t\tcout << "Hello World"; // 输出 Hello World\n\t\treturn 0;\n}',java:'import java.util.Scanner;\n\npublic class Main {\n\t\n\t\tpublic static void main(final String[] args) {\n\t\t\t\tSystem.out.println("What\'s your name?");\n\t\t\t\tScanner scanner = new Scanner(System.in);\n\t\t\t\tString a = scanner.nextLine();\n\t\t\t\tSystem.out.println("Hello, " + a);\n\t\t}\n\t\n}',php:'<!DOCTYPE html>\n<html>\n<body>\n\n<?php\necho "Hello World!";\n?>\n\n</body>\n</html>\t\n',python:'#!/usr/bin/python\n\nprint ("Hello, Python!")',rust:'[package]\nname = "my-project"\nversion = "0.1.0"\nauthors = ["runner"]\nedition = "2021"\n\n# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html\n\n[dependencies]',sql:"SHOW DATABASES;"},he=e=>(Q("data-v-9a59d003"),e=e(),X(),e),ge={class:"content-box"},fe={class:"example"},ve={class:"toolbar"},ye={class:"state"},we={class:"config"},Se=he(()=>_("label",{for:"tabSize"},"tabSize:",-1)),ke=he(()=>_("label",{for:"backgroundColor"},"backgroundColor:",-1)),je=["value"],Ce=he(()=>_("label",{for:"language"},"language:",-1)),xe=["value"],Oe=he(()=>_("label",{for:"theme"},"theme:",-1)),ze=["value"],Ve={class:"content"},We=v({name:"editor"}),Te=ee(v(i(r({},We),{setup(e){const t={oneDark:$},n={javascript:O(),html:z(),json:V(),markdown:W(),cpp:T(),java:H(),php:A(),python:B(),rust:P(),sql:U()},a=console.log,o=w(()=>me[s.language]||"暂无该语言内容"),l=D(),s=q({disabled:!1,indentWithTab:!0,tabSize:2,autofocus:!0,placeholder:"code...",backgroundColor:"white",language:"javascript",theme:"oneDark"}),r=w(()=>{const e=[];return e.push(n[s.language]),t[s.theme]&&e.push(t[s.theme]),e});return S(()=>{}),(e,t)=>(Z(),F("div",ge,[_("div",fe,[_("div",ve,[_("pre",ye,E(s),1),_("div",we,[_("p",null,[_("button",{onClick:t[0]||(t[0]=e=>s.disabled=!s.disabled)}," toggle disabled ")]),_("p",null,[_("button",{onClick:t[1]||(t[1]=e=>s.autofocus=!s.autofocus)}," toggle autofocus ")]),_("p",null,[_("button",{onClick:t[2]||(t[2]=e=>s.indentWithTab=!s.indentWithTab)}," toggle indentWithTab ")]),_("p",null,[Se,L(_("input",{id:"tabSize","onUpdate:modelValue":t[3]||(t[3]=e=>s.tabSize=e),type:"range",min:"2",max:"10",step:"1"},null,512),[[I,s.tabSize,void 0,{number:!0}]])]),_("p",null,[ke,L(_("select",{id:"backgroundColor","onUpdate:modelValue":t[4]||(t[4]=e=>s.backgroundColor=e),name:"backgroundColor"},[(Z(),F(J,null,N(["white","red","black","yellow","lawngreen","blue"],e=>_("option",{key:e,value:e},E(e),9,je)),64))],512),[[M,s.backgroundColor]])]),_("p",null,[Ce,L(_("select",{id:"language","onUpdate:modelValue":t[5]||(t[5]=e=>s.language=e),name:"language"},[(Z(),F(J,null,N(["javascript","html","json","markdown","cpp","java","php","python","rust","sql"],e=>_("option",{key:e,value:e},E(e),9,xe)),64))],512),[[M,s.language]])]),_("p",null,[Oe,L(_("select",{id:"theme","onUpdate:modelValue":t[6]||(t[6]=e=>s.theme=e),name:"theme"},[(Z(),F(J,null,N(["default","oneDark"],e=>_("option",{key:e,value:e},E(e),9,ze)),64))],512),[[M,s.theme]])])])]),_("div",Ve,[R(Y(pe),{ref_key:"cm",ref:l,modelValue:Y(o),"onUpdate:modelValue":t[7]||(t[7]=e=>G(o)?o.value=e:null),class:"codemirror",autofocus:s.autofocus,placeholder:s.placeholder,"indent-with-tab":s.indentWithTab,"tab-size":s.tabSize,disabled:s.disabled,style:K({backgroundColor:s.backgroundColor}),extensions:Y(r),onReady:t[8]||(t[8]=e=>Y(a)("ready",e)),onChange:t[9]||(t[9]=e=>Y(a)("change",e)),onFocus:t[10]||(t[10]=e=>Y(a)("focus",e)),onBlur:t[11]||(t[11]=e=>Y(a)("blur",e))},null,8,["modelValue","autofocus","placeholder","indent-with-tab","tab-size","disabled","style","extensions"])])])]))}})),[["__scopeId","data-v-9a59d003"]]);export{Te as default};
//# sourceMappingURL=index-351677b0.js.map
