var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,n=(a,l,r)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[l]=r,i=(e,a)=>{for(var l in a||(a={}))s.call(a,l)&&n(e,l,a[l]);if(r)for(var l of r(a))o.call(a,l)&&n(e,l,a[l]);return e};import{i as t,g as d,d as c,K as u,o as p,s as m,x as f,u as v,c as g,F as h,y,a as b,e as w,N as _,b2 as k,t as V,m as C,M as x,T as q,V as z,E as U,aK as I,I as O,H as P,p as j,b as S}from"./.pnpm-86d57c44.js";import{u as R,_ as L,C as M,S as A}from"./index-d48c677b.js";const D=""+new URL("../png/name-b2aab18e.png",import.meta.url).href,E=""+new URL("../png/name-e2efc5f1.png",import.meta.url).href,F=(e=60)=>{let a;t(()=>{clearInterval(a)});const l=d(0);return[l,()=>{l.value=e,a=setInterval(()=>{l.value>0?l.value-=1:(clearInterval(a),l.value=0)},1e3)}]},H=e=>(j("data-v-63da0c3b"),e=e(),S(),e),K={class:"check-container remember-pwd"},N=H(()=>b("span",{class:"tip"},"忘记账号？",-1)),T={class:"tip-container"},Y=H(()=>b("span",{class:"tip"},"请使用微信扫一扫登录",-1)),B={class:"refresh"},G={class:"switch-container"},J=L(c({__name:"login",setup(e){const a=R(),l={phone:[{required:!0,message:"手机号必填",type:"error"}],account:[{required:!0,message:"账号必填",type:"error"}],password:[{required:!0,message:"密码必填",type:"error"}],verifyCode:[{required:!0,message:"验证码必填",type:"error"}]},r=d("password"),s=d(i({},{phone:"",account:"admin",password:"admin",verifyCode:"",checked:!1})),o=d(!1),[n,t]=F(),c=e=>{r.value=e},j=u(),S=e=>{return l=this,r=[e],o=function*({validateResult:e}){if(!0===e)try{yield a.login(s.value),x.success("登录成功"),j.push({path:"/dashboard/base"})}catch(l){x.error(l.message)}},new Promise((e,a)=>{var s=e=>{try{i(o.next(e))}catch(l){a(l)}},n=e=>{try{i(o.throw(e))}catch(l){a(l)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(s,n);i((o=o.apply(l,r)).next())});var l,r,o};return(e,a)=>{const i=q,d=z,u=U,x=I,j=O,R=P;return p(),m(R,{ref:"form",class:C(["item-container","login-"+v(r)]),data:v(s),rules:l,"label-width":"0",onSubmit:S},{default:f(()=>["password"==v(r)?(p(),g(h,{key:0},[y(u,{name:"account"},{default:f(()=>[y(d,{modelValue:v(s).account,"onUpdate:modelValue":a[0]||(a[0]=e=>v(s).account=e),size:"large",placeholder:"请输入账号：admin"},{"prefix-icon":f(()=>[y(i,{name:"user"})]),_:1},8,["modelValue"])]),_:1}),y(u,{name:"password"},{default:f(()=>[y(d,{modelValue:v(s).password,"onUpdate:modelValue":a[2]||(a[2]=e=>v(s).password=e),size:"large",type:v(o)?"text":"password",clearable:"",placeholder:"请输入登录密码：admin"},{"prefix-icon":f(()=>[y(i,{name:"lock-on"})]),"suffix-icon":f(()=>[y(i,{name:v(o)?"browse":"browse-off",onClick:a[1]||(a[1]=e=>o.value=!v(o))},null,8,["name"])]),_:1},8,["modelValue","type"])]),_:1}),b("div",K,[y(x,null,{default:f(()=>[w("记住账号")]),_:1}),N])],64)):"qrcode"==v(r)?(p(),g(h,{key:1},[_(" 扫码登录 "),b("div",T,[Y,b("span",B,[w(" 刷新 "),y(i,{name:"refresh"})])]),y(k,{value:"",size:192,level:"H"})],64)):(p(),g(h,{key:2},[_(" 手机号登录 "),y(u,{class:"verification-code",name:"verifyCode"},{default:f(()=>[y(d,{modelValue:v(s).verifyCode,"onUpdate:modelValue":a[3]||(a[3]=e=>v(s).verifyCode=e),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"]),y(j,{variant:"outline",disabled:v(n)>0,onClick:v(t)},{default:f(()=>[w(V(0==v(n)?"发送验证码":v(n)+"秒后可重发"),1)]),_:1},8,["disabled","onClick"])]),_:1})],64)),"qrcode"!==v(r)?(p(),m(u,{key:3,class:"btn-container"},{default:f(()=>[y(j,{block:"",size:"large",type:"submit"},{default:f(()=>[w(" 登录 ")]),_:1})]),_:1})):_("v-if",!0),b("div",G,["password"!==v(r)?(p(),g("span",{key:0,class:"tip",onClick:a[4]||(a[4]=e=>c("password"))}," 使用账号密码登录 ")):_("v-if",!0),"qrcode"!==v(r)?(p(),g("span",{key:1,class:"tip",onClick:a[5]||(a[5]=e=>c("qrcode"))}," 使用微信扫码登录 ")):_("v-if",!0),"phone"!==v(r)?(p(),g("span",{key:2,class:"tip",onClick:a[6]||(a[6]=e=>c("phone"))}," 使用手机号登录 ")):_("v-if",!0)])]),_:1},8,["class","data"])}}}),[["__scopeId","data-v-63da0c3b"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/login/components/login.vue"]]),Q=e=>(j("data-v-a4092691"),e=e(),S(),e),W=Q(()=>b("span",null,"服务协议",-1)),X=Q(()=>b("span",null,"隐私声明",-1)),Z={class:"switch-container"},$=L(c({__name:"register",emits:["registerSuccess"],setup(e,{emit:a}){const l={phone:[{required:!0,message:"手机号必填",type:"error"}],email:[{required:!0,message:"邮箱必填",type:"error"},{email:!0,message:"请输入正确的邮箱",type:"warning"}],password:[{required:!0,message:"密码必填",type:"error"}],verifyCode:[{required:!0,message:"验证码必填",type:"error"}]},r=d("phone"),s=d(),o=d(i({},{phone:"",email:"",password:"",verifyCode:"",checked:!1})),n=d(!1),[t,c]=F(),u=({validateResult:e})=>{if(!0===e){if(!o.value.checked)return void MessagePlugin.error("请同意服务协议和隐私声明");MessagePlugin.success("注册成功"),a("registerSuccess")}};return(e,a)=>{const i=q,d=z,g=U,h=O,k=I,x=P;return p(),m(x,{ref_key:"form",ref:s,class:C(["item-container","register-"+v(r)]),data:v(o),rules:l,"label-width":"0",onSubmit:u},{default:f(()=>["phone"==v(r)?(p(),m(g,{key:0,name:"phone"},{default:f(()=>[y(d,{modelValue:v(o).phone,"onUpdate:modelValue":a[0]||(a[0]=e=>v(o).phone=e),maxlength:11,size:"large",placeholder:"请输入您的手机号"},{"prefix-icon":f(()=>[y(i,{name:"user"})]),_:1},8,["modelValue"])]),_:1})):_("v-if",!0),"email"==v(r)?(p(),m(g,{key:1,name:"email"},{default:f(()=>[y(d,{modelValue:v(o).email,"onUpdate:modelValue":a[1]||(a[1]=e=>v(o).email=e),type:"text",size:"large",placeholder:"请输入您的邮箱"},{"prefix-icon":f(()=>[y(i,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):_("v-if",!0),y(g,{name:"password"},{default:f(()=>[y(d,{modelValue:v(o).password,"onUpdate:modelValue":a[3]||(a[3]=e=>v(o).password=e),size:"large",type:v(n)?"text":"password",clearable:"",placeholder:"请输入登录密码"},{"prefix-icon":f(()=>[y(i,{name:"lock-on"})]),"suffix-icon":f(()=>[y(i,{name:v(n)?"browse":"browse-off",onClick:a[2]||(a[2]=e=>n.value=!v(n))},null,8,["name"])]),_:1},8,["modelValue","type"])]),_:1}),"phone"==v(r)?(p(),m(g,{key:2,class:"verification-code",name:"verifyCode"},{default:f(()=>[y(d,{modelValue:v(o).verifyCode,"onUpdate:modelValue":a[4]||(a[4]=e=>v(o).verifyCode=e),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"]),y(h,{variant:"outline",disabled:v(t)>0,onClick:v(c)},{default:f(()=>[w(V(0==v(t)?"发送验证码":v(t)+"秒后可重发"),1)]),_:1},8,["disabled","onClick"])]),_:1})):_("v-if",!0),y(g,{class:"check-container",name:"checked"},{default:f(()=>[y(k,{modelValue:v(o).checked,"onUpdate:modelValue":a[5]||(a[5]=e=>v(o).checked=e)},{default:f(()=>[w("我已阅读并同意")]),_:1},8,["modelValue"]),W,w(" 和 "),X]),_:1}),y(g,null,{default:f(()=>[y(h,{block:"",size:"large",type:"submit"},{default:f(()=>[w(" 注册 ")]),_:1})]),_:1}),b("div",Z,[b("span",{class:"tip",onClick:a[6]||(a[6]=e=>{return a="phone"==v(r)?"email":"phone",s.value.reset(),void(r.value=a);var a})},V("phone"==v(r)?"使用邮箱注册":"使用手机号注册"),1)])]),_:1},8,["class","data"])}}}),[["__scopeId","data-v-a4092691"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/login/components/register.vue"]]),ee=e=>(j("data-v-45258083"),e=e(),S(),e),ae={class:"wrapper"},le={class:"login-wrapper"},re={class:"login-container"},se=ee(()=>b("img",{class:"login-one-ball",src:D},null,-1)),oe=ee(()=>b("img",{class:"login-two-ball",src:E},null,-1)),ne={class:"title-container"},ie=ee(()=>b("h1",{class:"title margin-no"},"登录",-1)),te={class:"sub-title"},de={class:"tip"},ce={class:"copyright"};var ue;const pe=L(c((ue=i({},{name:"LoginIndex"}),a(ue,l({setup(e){const a=d("login"),l=e=>{a.value=e};return(e,r)=>(p(),g("div",ae,[_(" <login-header /> "),b("div",le,[b("div",re,[se,oe,b("div",ne,[ie,_(' <h1 class="title">Vue3 Admin Starter</h1> '),b("div",te,[b("p",de,V("register"==v(a)?"已有账号?":"没有账号吗?"),1),b("p",{class:"tip",onClick:r[0]||(r[0]=e=>l("register"==v(a)?"login":"register"))},V("register"==v(a)?"登录":"注册新账号"),1)])]),"login"===v(a)?(p(),m(J,{key:0})):(p(),m($,{key:1,onRegisterSuccess:r[1]||(r[1]=e=>l("login"))})),y(A)]),b("footer",ce," Copyright @ 2021-"+V((new Date).getFullYear())+" "+V(v(M))+". All Rights Reserved ",1)])]))}})))),[["__scopeId","data-v-45258083"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/login/index.vue"]]);export{pe as default};
//# sourceMappingURL=index-73ed82c1.js.map
