var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&r(e,t,a[t]);return e},i=(e,l)=>a(e,t(l));import{r as u,_ as c,p}from"./index-4900769b.js";import{d,o as m,c as v,a as y,y as f,t as b,x as g,e as h,Q as k,bO as _,bP as w,g as P,h as N,bL as x,a_ as C,F as z,r as O,m as j,K as D,u as K,s as S,bM as T,bN as B,aW as M,R as A,C as I,aQ as G,bQ as E,p as F,b as Q}from"./.pnpm-e6c61d32.js";const R=[{name:"合同名称",value:"总部办公用品采购项目",type:null},{name:"合同状态",value:"履行中",type:{key:"contractStatus",value:"inProgress"}},{name:"合同编号",value:"BH00010",type:null},{name:"合同类型",value:"主合同",type:null},{name:"合同收付类型",value:"付款",type:null},{name:"合同金额",value:"5,000,000元",type:null},{name:"甲方",value:"腾讯科技（深圳）有限公司",type:null},{name:"乙方",value:"欧尚",type:null},{name:"合同签订日期",value:"2020-12-20",type:null},{name:"合同生效日期",value:"2021-01-20",type:null},{name:"合同结束日期",value:"2022-12-20",type:null},{name:"合同附件",value:"总部办公用品采购项目合同.pdf",type:{key:"contractAnnex",value:"pdf"}},{name:"备注",value:"--",type:null},{name:"创建时间",value:"2020-12-22 10:00:00",type:null}],V=[{width:300,ellipsis:!0,colKey:"index",title:"申请号",sorter:(e,a)=>e.index.substr(3)-a.index.substr(3)},{width:200,ellipsis:!0,colKey:"pdName",title:"产品名称",sorter:(e,a)=>e.pdName.length-a.pdName.length},{width:200,ellipsis:!0,colKey:"pdNum",title:"产品编号"},{width:200,ellipsis:!0,colKey:"purchaseNum",title:"采购数量",sorter:(e,a)=>e.purchaseNum-a.purchaseNum},{width:200,ellipsis:!0,colKey:"adminName",title:"申请部门"},{width:200,ellipsis:!0,colKey:"updateTime",title:"创建时间",sorter:(e,a)=>Date.parse(e.updateTime)-Date.parse(a.updateTime)},{align:"left",fixed:"right",width:200,className:"test2",colKey:"op",title:"操作"}],L=[{name:"MacBook Pro 2021",subTitle:"MacBook Pro 2021",size:"13.3 英寸",cpu:"Apple M1",memory:"RAM 16GB",info:"最高可选配 16GB 内存 · 最高可选配 2TB 存储设备 电池续航最长达 18 小时",use:1420,stock:1500},{name:"Surface Laptop Go",subTitle:"微软（Microsoft Corporation）",size:"12.4 英寸",cpu:"Core i7",memory:"RAM 16GB",info:"常规使用 Surface，续航时间最长可达13小时 随时伴您工作",use:120,stock:2e3}],H="/mock/api/get-purchase-list";const U=d({props:{data:{type:Object,default:()=>({})}}}),W={class:"operator-block operator-gap"},q={class:"operator-content"},J={class:"operator-title"},X={class:"operator-title-subtitle"},Y={class:"operator-title-tags"},Z={class:"operator-item"},$={class:"operator-item-info"},ee={class:"operator-footer"},ae={class:"operator-footer-percentage"};const te=c(U,[["render",function(e,a,t,l,s,o){const r=k,n=_,i=w;return m(),v("div",W,[y("div",q,[y("div",J,[f(r,{name:"cart",class:"operator-title-icon"}),y("h1",null,b(e.data.name),1),y("div",X,b(e.data.subtitle),1),y("div",Y,[f(n,{class:"operator-title-tag",theme:"success",size:"small"},{default:g(()=>[h(b(e.data.size),1)]),_:1}),f(n,{class:"operator-title-tag",size:"small"},{default:g(()=>[h(b(e.data.cpu),1)]),_:1}),f(n,{class:"operator-title-tag",size:"small"},{default:g(()=>[h(b(e.data.memory),1)]),_:1})])]),y("div",Z,[y("span",$,b(e.data.info),1),f(r,{class:"operator-item-icon",name:"chevron-right",size:"small",style:{color:"rgba(0, 0, 0, 0.26)"}})])]),y("div",ee,[y("span",ae,b(e.data.use)+" / "+b(e.data.stock)+"（台） ",1),f(i,{class:"operator-progress",theme:"line",percentage:e.data.use/e.data.stock*100,label:!1,color:e.data.use/e.data.stock<.5?"#E24D59":"","track-color":e.data.use/e.data.stock<.5?"#FCD4D4":"#D4E3FC"},null,8,["percentage","color","track-color"])])])}],["__scopeId","data-v-65973dbe"]]),le={class:"detail-advanced"},se={class:"info-block"},oe={key:0},re={class:"product-add"},ne={class:"product-sub"},ie=(e=>(F("data-v-c264d881"),e=e(),Q(),e))(()=>y("span",null,"新增产品",-1)),ue=["onClick"],ce={class:"dialog-info-block"},pe={key:0},de=c(d(i(n({},{name:"DetailAdvanced"}),{setup(e){const a=P([]),t=P({defaultPageSize:10,total:100,defaultCurrent:1}),l=P(0),s=()=>{return e=this,l=null,s=function*(){try{const{list:e}=yield u.get({url:H});a.value=e,t.value=i(n({},t.value),{total:e.length})}catch(e){}},new Promise((a,t)=>{var o=e=>{try{n(s.next(e))}catch(a){t(a)}},r=e=>{try{n(s.throw(e))}catch(a){t(a)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,r);n((s=s.apply(e,l)).next())});var e,l,s};N(()=>{setInterval(()=>{l.value>5&&(l.value=-1),l.value+=1},2e3),s()});const o=P(!1),r=e=>{},c=(e,a)=>{},d=()=>{o.value=!1};return(e,s)=>{const n=x,i=T,u=B,w=M,P=A,N=I,F=k,Q=G,H=_,U=E,W=C;return m(),v("div",le,[f(n,{title:"基本信息"},{default:g(()=>[y("div",se,[(m(!0),v(z,null,O(K(R),(e,a)=>(m(),v("div",{key:a,class:"info-item"},[y("h1",null,b(e.name),1),y("span",{class:j({inProgress:e.type&&"inProgress"===e.type.value,pdf:e.type&&"pdf"===e.type.value})},[e.type&&"contractStatus"===e.type.key?(m(),v("i",oe)):D("",!0),h(" "+b(e.value),1)],2)]))),128))])]),_:1}),f(n,{title:"发票进度",class:"container-base-margin-top"},{default:g(()=>[f(w,{justify:"space-between"},{default:g(()=>[f(u,{current:l.value},{default:g(()=>[f(i,{title:"申请提交",content:"已于12月21日提交"}),f(i,{title:"电子发票",content:"预计1～3个工作日"}),f(i,{title:"发票已邮寄",content:"电子发票开出后7个工作日联系"}),f(i,{title:"完成",content:""})]),_:1},8,["current"])]),_:1})]),_:1}),f(n,{title:"产品目录",class:"container-base-margin-top"},{option:g(()=>[f(N,{"default-value":"dateVal"},{default:g(()=>[f(P,{value:"dateVal"},{default:g(()=>[h("季度")]),_:1}),f(P,{value:"monthVal"},{default:g(()=>[h("月份")]),_:1})]),_:1})]),default:g(()=>[f(w,{gutter:16,class:"product-block-container"},{default:g(()=>[f(Q,{xl:4},{default:g(()=>[y("div",re,[y("div",ne,[f(F,{name:"add",class:"product-sub-icon"}),ie])])]),_:1}),(m(!0),v(z,null,O(K(L),(e,a)=>(m(),S(Q,{key:a,xl:4},{default:g(()=>[f(te,{data:e},null,8,["data"])]),_:2},1024))),128))]),_:1})]),_:1}),f(n,{title:"产品采购明细",class:"container-base-margin-top"},{default:g(()=>[f(U,{columns:K(V),data:a.value,pagination:t.value,hover:!0,"row-key":"index",size:"large",onSortChange:r,onChange:c},{pdName:g(({row:e})=>[y("span",null,[h(b(e.pdName)+" ",1),e.pdType?(m(),S(H,{key:0,size:"small"},{default:g(()=>[h(b(e.pdType),1)]),_:2},1024)):D("",!0)])]),purchaseNum:g(({row:e})=>[y("span",null,[h(b(e.purchaseNum)+" ",1),e.purchaseNum>50?(m(),S(H,{key:0,theme:"danger",variant:"light",size:"small"},{default:g(()=>[h(" 超预算 ")]),_:1})):D("",!0)])]),op:g(e=>[y("a",{class:j(K(p)+"-link"),onClick:s[0]||(s[0]=e=>{o.value=!0})}," 管理 ",2),y("a",{class:j(K(p)+"-link"),onClick:t=>{return l=e,void a.value.splice(l.rowIndex,1);var l}}," 删除 ",10,ue)]),"op-column":g(()=>[f(F,{name:"descending-order"})]),_:1},8,["columns","data","pagination"])]),_:1}),f(W,{visible:o.value,"onUpdate:visible":s[1]||(s[1]=e=>o.value=e),header:"基本信息",onConfirm:d},{body:g(()=>[y("div",ce,[(m(!0),v(z,null,O(K(R),(e,a)=>(m(),v("div",{key:a,class:"info-item"},[y("h1",null,b(e.name),1),y("span",{class:j({inProgress:e.type&&"inProgress"===e.type.value,pdf:e.type&&"pdf"===e.type.value})},[e.type&&"contractStatus"===e.type.key?(m(),v("i",pe)):D("",!0),h(" "+b(e.value),1)],2)]))),128))])]),_:1},8,["visible"])])}}})),[["__scopeId","data-v-c264d881"]]);export{de as default};
//# sourceMappingURL=index-5db1f023.js.map
