var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l,n=(e,a)=>{for(var t in a||(a={}))s.call(a,t)&&r(e,t,a[t]);if(l)for(var t of l(a))o.call(a,t)&&r(e,t,a[t]);return e},i=(e,l)=>a(e,t(l));import{r as u,p as c}from"./index-cf7ca57d.js";import{d as p,o as d,c as m,a as v,l as y,t as f,x as b,e as g,H as h,bO as k,bP as _,g as w,h as P,bL as x,a9 as N,F as j,r as z,y as C,s as O,u as D,m as S,bM as T,bN as B,a2 as K,ao as M,ap as A,Y as I,bQ as G,p as E,b as F}from"./.pnpm-23496a1a.js";import{_ as V}from"./_plugin-vue_export-helper-1b428a4d.js";const H=[{name:"合同名称",value:"总部办公用品采购项目",type:null},{name:"合同状态",value:"履行中",type:{key:"contractStatus",value:"inProgress"}},{name:"合同编号",value:"BH00010",type:null},{name:"合同类型",value:"主合同",type:null},{name:"合同收付类型",value:"付款",type:null},{name:"合同金额",value:"5,000,000元",type:null},{name:"甲方",value:"腾讯科技（深圳）有限公司",type:null},{name:"乙方",value:"欧尚",type:null},{name:"合同签订日期",value:"2020-12-20",type:null},{name:"合同生效日期",value:"2021-01-20",type:null},{name:"合同结束日期",value:"2022-12-20",type:null},{name:"合同附件",value:"总部办公用品采购项目合同.pdf",type:{key:"contractAnnex",value:"pdf"}},{name:"备注",value:"--",type:null},{name:"创建时间",value:"2020-12-22 10:00:00",type:null}],L=[{width:300,ellipsis:!0,colKey:"index",title:"申请号",sorter:(e,a)=>e.index.substr(3)-a.index.substr(3)},{width:200,ellipsis:!0,colKey:"pdName",title:"产品名称",sorter:(e,a)=>e.pdName.length-a.pdName.length},{width:200,ellipsis:!0,colKey:"pdNum",title:"产品编号"},{width:200,ellipsis:!0,colKey:"purchaseNum",title:"采购数量",sorter:(e,a)=>e.purchaseNum-a.purchaseNum},{width:200,ellipsis:!0,colKey:"adminName",title:"申请部门"},{width:200,ellipsis:!0,colKey:"updateTime",title:"创建时间",sorter:(e,a)=>Date.parse(e.updateTime)-Date.parse(a.updateTime)},{align:"left",fixed:"right",width:200,className:"test2",colKey:"op",title:"操作"}],R=[{name:"MacBook Pro 2021",subTitle:"MacBook Pro 2021",size:"13.3 英寸",cpu:"Apple M1",memory:"RAM 16GB",info:"最高可选配 16GB 内存 · 最高可选配 2TB 存储设备 电池续航最长达 18 小时",use:1420,stock:1500},{name:"Surface Laptop Go",subTitle:"微软（Microsoft Corporation）",size:"12.4 英寸",cpu:"Core i7",memory:"RAM 16GB",info:"常规使用 Surface，续航时间最长可达13小时 随时伴您工作",use:120,stock:2e3}],Q="/mock/api/get-purchase-list";const U=p({props:{data:{type:Object,default:()=>({})}}}),Y={class:"operator-block operator-gap"},q={class:"operator-content"},J={class:"operator-title"},W={class:"operator-title-subtitle"},X={class:"operator-title-tags"},Z={class:"operator-item"},$={class:"operator-item-info"},ee={class:"operator-footer"},ae={class:"operator-footer-percentage"};const te=V(U,[["render",function(e,a,t,l,s,o){const r=h,n=k,i=_;return d(),m("div",Y,[v("div",q,[v("div",J,[y(r,{name:"cart",class:"operator-title-icon"}),v("h1",null,f(e.data.name),1),v("div",W,f(e.data.subtitle),1),v("div",X,[y(n,{class:"operator-title-tag",theme:"success",size:"small"},{default:b(()=>[g(f(e.data.size),1)]),_:1}),y(n,{class:"operator-title-tag",size:"small"},{default:b(()=>[g(f(e.data.cpu),1)]),_:1}),y(n,{class:"operator-title-tag",size:"small"},{default:b(()=>[g(f(e.data.memory),1)]),_:1})])]),v("div",Z,[v("span",$,f(e.data.info),1),y(r,{class:"operator-item-icon",name:"chevron-right",size:"small",style:{color:"rgba(0, 0, 0, 0.26)"}})])]),v("div",ee,[v("span",ae,f(e.data.use)+" / "+f(e.data.stock)+"（台） ",1),y(i,{class:"operator-progress",theme:"line",percentage:e.data.use/e.data.stock*100,label:!1,color:e.data.use/e.data.stock<.5?"#E24D59":"","track-color":e.data.use/e.data.stock<.5?"#FCD4D4":"#D4E3FC"},null,8,["percentage","color","track-color"])])])}],["__scopeId","data-v-65973dbe"]]),le={class:"detail-advanced"},se={class:"info-block"},oe={key:0},re={class:"product-add"},ne={class:"product-sub"},ie=(e=>(E("data-v-c264d881"),e=e(),F(),e))(()=>v("span",null,"新增产品",-1)),ue=["onClick"],ce={class:"dialog-info-block"},pe={key:0},de=V(p(i(n({},{name:"DetailAdvanced"}),{setup(e){const a=w([]),t=w({defaultPageSize:10,total:100,defaultCurrent:1}),l=w(0),s=()=>{return e=this,l=null,s=function*(){try{const{list:e}=yield u.get({url:Q});a.value=e,t.value=i(n({},t.value),{total:e.length})}catch(e){}},new Promise((a,t)=>{var o=e=>{try{n(s.next(e))}catch(a){t(a)}},r=e=>{try{n(s.throw(e))}catch(a){t(a)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(o,r);n((s=s.apply(e,l)).next())});var e,l,s};P(()=>{setInterval(()=>{l.value>5&&(l.value=-1),l.value+=1},2e3),s()});const o=w(!1),r=e=>{},p=(e,a)=>{},_=()=>{o.value=!1};return(e,s)=>{const n=x,i=T,u=B,w=K,P=M,E=A,F=h,V=I,Q=k,U=G,Y=N;return d(),m("div",le,[y(n,{title:"基本信息"},{default:b(()=>[v("div",se,[(d(!0),m(j,null,z(D(H),(e,a)=>(d(),m("div",{key:a,class:"info-item"},[v("h1",null,f(e.name),1),v("span",{class:C({inProgress:e.type&&"inProgress"===e.type.value,pdf:e.type&&"pdf"===e.type.value})},[e.type&&"contractStatus"===e.type.key?(d(),m("i",oe)):O("",!0),g(" "+f(e.value),1)],2)]))),128))])]),_:1}),y(n,{title:"发票进度",class:"container-base-margin-top"},{default:b(()=>[y(w,{justify:"space-between"},{default:b(()=>[y(u,{current:l.value},{default:b(()=>[y(i,{title:"申请提交",content:"已于12月21日提交"}),y(i,{title:"电子发票",content:"预计1～3个工作日"}),y(i,{title:"发票已邮寄",content:"电子发票开出后7个工作日联系"}),y(i,{title:"完成",content:""})]),_:1},8,["current"])]),_:1})]),_:1}),y(n,{title:"产品目录",class:"container-base-margin-top"},{option:b(()=>[y(E,{"default-value":"dateVal"},{default:b(()=>[y(P,{value:"dateVal"},{default:b(()=>[g("季度")]),_:1}),y(P,{value:"monthVal"},{default:b(()=>[g("月份")]),_:1})]),_:1})]),default:b(()=>[y(w,{gutter:16,class:"product-block-container"},{default:b(()=>[y(V,{xl:4},{default:b(()=>[v("div",re,[v("div",ne,[y(F,{name:"add",class:"product-sub-icon"}),ie])])]),_:1}),(d(!0),m(j,null,z(D(R),(e,a)=>(d(),S(V,{key:a,xl:4},{default:b(()=>[y(te,{data:e},null,8,["data"])]),_:2},1024))),128))]),_:1})]),_:1}),y(n,{title:"产品采购明细",class:"container-base-margin-top"},{default:b(()=>[y(U,{columns:D(L),data:a.value,pagination:t.value,hover:!0,"row-key":"index",size:"large",onSortChange:r,onChange:p},{pdName:b(({row:e})=>[v("span",null,[g(f(e.pdName)+" ",1),e.pdType?(d(),S(Q,{key:0,size:"small"},{default:b(()=>[g(f(e.pdType),1)]),_:2},1024)):O("",!0)])]),purchaseNum:b(({row:e})=>[v("span",null,[g(f(e.purchaseNum)+" ",1),e.purchaseNum>50?(d(),S(Q,{key:0,theme:"danger",variant:"light",size:"small"},{default:b(()=>[g(" 超预算 ")]),_:1})):O("",!0)])]),op:b(e=>[v("a",{class:C(D(c)+"-link"),onClick:s[0]||(s[0]=e=>{o.value=!0})}," 管理 ",2),v("a",{class:C(D(c)+"-link"),onClick:t=>{return l=e,void a.value.splice(l.rowIndex,1);var l}}," 删除 ",10,ue)]),"op-column":b(()=>[y(F,{name:"descending-order"})]),_:1},8,["columns","data","pagination"])]),_:1}),y(Y,{visible:o.value,"onUpdate:visible":s[1]||(s[1]=e=>o.value=e),header:"基本信息",onConfirm:_},{body:b(()=>[v("div",ce,[(d(!0),m(j,null,z(D(H),(e,a)=>(d(),m("div",{key:a,class:"info-item"},[v("h1",null,f(e.name),1),v("span",{class:C({inProgress:e.type&&"inProgress"===e.type.value,pdf:e.type&&"pdf"===e.type.value})},[e.type&&"contractStatus"===e.type.key?(d(),m("i",pe)):O("",!0),g(" "+f(e.value),1)],2)]))),128))])]),_:1},8,["visible"])])}}})),[["__scopeId","data-v-c264d881"]]);export{de as default};
//# sourceMappingURL=index-a6f6fd86.js.map
