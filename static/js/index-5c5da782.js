var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(a,l,s)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,i=(e,a)=>{for(var l in a||(a={}))r.call(a,l)&&t(e,l,a[l]);if(s)for(var l of s(a))o.call(a,l)&&t(e,l,a[l]);return e};import{i as n,g as d,d as c,K as u,o as p,s as m,x as f,u as v,c as h,F as g,y,a as b,e as _,N as k,b2 as w,t as C,m as V,M as x,T as q,V as z,E as I,aK as P,I as O,H as S,p as j,b as U}from"./.pnpm-3e45f2fc.js";import{u as R,_ as M,a as A,L as E,S as H}from"./index-8f8d23fb.js";const K=(e=60)=>{let a;n(()=>{clearInterval(a)});const l=d(0);return[l,()=>{l.value=e,a=setInterval(()=>{l.value>0?l.value-=1:(clearInterval(a),l.value=0)},1e3)}]},L=e=>(j("data-v-63da0c3b"),e=e(),U(),e),D={class:"check-container remember-pwd"},F=L(()=>b("span",{class:"tip"},"忘记账号？",-1)),N={class:"tip-container"},T=L(()=>b("span",{class:"tip"},"请使用微信扫一扫登录",-1)),B={class:"refresh"},G={class:"switch-container"},J=M(c({__name:"login",setup(e){const a=R(),l={phone:[{required:!0,message:"手机号必填",type:"error"}],account:[{required:!0,message:"账号必填",type:"error"}],password:[{required:!0,message:"密码必填",type:"error"}],verifyCode:[{required:!0,message:"验证码必填",type:"error"}]},s=d("password"),r=d(i({},{phone:"",account:"admin",password:"admin",verifyCode:"",checked:!1})),o=d(!1),[t,n]=K(),c=e=>{s.value=e},j=u(),U=e=>{return l=this,s=[e],o=function*({validateResult:e}){if(!0===e)try{yield a.login(r.value),x.success("登录成功"),j.push({path:"/dashboard/base"})}catch(l){x.error(l.message)}},new Promise((e,a)=>{var r=e=>{try{i(o.next(e))}catch(l){a(l)}},t=e=>{try{i(o.throw(e))}catch(l){a(l)}},i=a=>a.done?e(a.value):Promise.resolve(a.value).then(r,t);i((o=o.apply(l,s)).next())});var l,s,o};return(e,a)=>{const i=q,d=z,u=I,x=P,j=O,R=S;return p(),m(R,{ref:"form",class:V(["item-container","login-"+v(s)]),data:v(r),rules:l,"label-width":"0",onSubmit:U},{default:f(()=>["password"==v(s)?(p(),h(g,{key:0},[y(u,{name:"account"},{default:f(()=>[y(d,{modelValue:v(r).account,"onUpdate:modelValue":a[0]||(a[0]=e=>v(r).account=e),size:"large",placeholder:"请输入账号：admin"},{"prefix-icon":f(()=>[y(i,{name:"user"})]),_:1},8,["modelValue"])]),_:1}),y(u,{name:"password"},{default:f(()=>[y(d,{modelValue:v(r).password,"onUpdate:modelValue":a[2]||(a[2]=e=>v(r).password=e),size:"large",type:v(o)?"text":"password",clearable:"",placeholder:"请输入登录密码：admin"},{"prefix-icon":f(()=>[y(i,{name:"lock-on"})]),"suffix-icon":f(()=>[y(i,{name:v(o)?"browse":"browse-off",onClick:a[1]||(a[1]=e=>o.value=!v(o))},null,8,["name"])]),_:1},8,["modelValue","type"])]),_:1}),b("div",D,[y(x,null,{default:f(()=>[_("记住账号")]),_:1}),F])],64)):"qrcode"==v(s)?(p(),h(g,{key:1},[k(" 扫码登录 "),b("div",N,[T,b("span",B,[_(" 刷新 "),y(i,{name:"refresh"})])]),y(w,{value:"",size:192,level:"H"})],64)):(p(),h(g,{key:2},[k(" 手机号登录 "),y(u,{class:"verification-code",name:"verifyCode"},{default:f(()=>[y(d,{modelValue:v(r).verifyCode,"onUpdate:modelValue":a[3]||(a[3]=e=>v(r).verifyCode=e),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"]),y(j,{variant:"outline",disabled:v(t)>0,onClick:v(n)},{default:f(()=>[_(C(0==v(t)?"发送验证码":v(t)+"秒后可重发"),1)]),_:1},8,["disabled","onClick"])]),_:1})],64)),"qrcode"!==v(s)?(p(),m(u,{key:3,class:"btn-container"},{default:f(()=>[y(j,{block:"",size:"large",type:"submit"},{default:f(()=>[_(" 登录 ")]),_:1})]),_:1})):k("v-if",!0),b("div",G,["password"!==v(s)?(p(),h("span",{key:0,class:"tip",onClick:a[4]||(a[4]=e=>c("password"))}," 使用账号密码登录 ")):k("v-if",!0),"qrcode"!==v(s)?(p(),h("span",{key:1,class:"tip",onClick:a[5]||(a[5]=e=>c("qrcode"))}," 使用微信扫码登录 ")):k("v-if",!0),"phone"!==v(s)?(p(),h("span",{key:2,class:"tip",onClick:a[6]||(a[6]=e=>c("phone"))}," 使用手机号登录 ")):k("v-if",!0)])]),_:1},8,["class","data"])}}}),[["__scopeId","data-v-63da0c3b"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/login/components/login.vue"]]),Q=e=>(j("data-v-a4092691"),e=e(),U(),e),W=Q(()=>b("span",null,"服务协议",-1)),X=Q(()=>b("span",null,"隐私声明",-1)),Y={class:"switch-container"},Z=M(c({__name:"register",emits:["registerSuccess"],setup(e,{emit:a}){const l={phone:[{required:!0,message:"手机号必填",type:"error"}],email:[{required:!0,message:"邮箱必填",type:"error"},{email:!0,message:"请输入正确的邮箱",type:"warning"}],password:[{required:!0,message:"密码必填",type:"error"}],verifyCode:[{required:!0,message:"验证码必填",type:"error"}]},s=d("phone"),r=d(),o=d(i({},{phone:"",email:"",password:"",verifyCode:"",checked:!1})),t=d(!1),[n,c]=K(),u=({validateResult:e})=>{if(!0===e){if(!o.value.checked)return void MessagePlugin.error("请同意服务协议和隐私声明");MessagePlugin.success("注册成功"),a("registerSuccess")}};return(e,a)=>{const i=q,d=z,h=I,g=O,w=P,x=S;return p(),m(x,{ref_key:"form",ref:r,class:V(["item-container","register-"+v(s)]),data:v(o),rules:l,"label-width":"0",onSubmit:u},{default:f(()=>["phone"==v(s)?(p(),m(h,{key:0,name:"phone"},{default:f(()=>[y(d,{modelValue:v(o).phone,"onUpdate:modelValue":a[0]||(a[0]=e=>v(o).phone=e),maxlength:11,size:"large",placeholder:"请输入您的手机号"},{"prefix-icon":f(()=>[y(i,{name:"user"})]),_:1},8,["modelValue"])]),_:1})):k("v-if",!0),"email"==v(s)?(p(),m(h,{key:1,name:"email"},{default:f(()=>[y(d,{modelValue:v(o).email,"onUpdate:modelValue":a[1]||(a[1]=e=>v(o).email=e),type:"text",size:"large",placeholder:"请输入您的邮箱"},{"prefix-icon":f(()=>[y(i,{name:"mail"})]),_:1},8,["modelValue"])]),_:1})):k("v-if",!0),y(h,{name:"password"},{default:f(()=>[y(d,{modelValue:v(o).password,"onUpdate:modelValue":a[3]||(a[3]=e=>v(o).password=e),size:"large",type:v(t)?"text":"password",clearable:"",placeholder:"请输入登录密码"},{"prefix-icon":f(()=>[y(i,{name:"lock-on"})]),"suffix-icon":f(()=>[y(i,{name:v(t)?"browse":"browse-off",onClick:a[2]||(a[2]=e=>t.value=!v(t))},null,8,["name"])]),_:1},8,["modelValue","type"])]),_:1}),"phone"==v(s)?(p(),m(h,{key:2,class:"verification-code",name:"verifyCode"},{default:f(()=>[y(d,{modelValue:v(o).verifyCode,"onUpdate:modelValue":a[4]||(a[4]=e=>v(o).verifyCode=e),size:"large",placeholder:"请输入验证码"},null,8,["modelValue"]),y(g,{variant:"outline",disabled:v(n)>0,onClick:v(c)},{default:f(()=>[_(C(0==v(n)?"发送验证码":v(n)+"秒后可重发"),1)]),_:1},8,["disabled","onClick"])]),_:1})):k("v-if",!0),y(h,{class:"check-container",name:"checked"},{default:f(()=>[y(w,{modelValue:v(o).checked,"onUpdate:modelValue":a[5]||(a[5]=e=>v(o).checked=e)},{default:f(()=>[_("我已阅读并同意")]),_:1},8,["modelValue"]),W,_(" 和 "),X]),_:1}),y(h,null,{default:f(()=>[y(g,{block:"",size:"large",type:"submit"},{default:f(()=>[_(" 注册 ")]),_:1})]),_:1}),b("div",Y,[b("span",{class:"tip",onClick:a[6]||(a[6]=e=>{return a="phone"==v(s)?"email":"phone",r.value.reset(),void(s.value=a);var a})},C("phone"==v(s)?"使用邮箱注册":"使用手机号注册"),1)])]),_:1},8,["class","data"])}}}),[["__scopeId","data-v-a4092691"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/login/components/register.vue"]]),$={class:"login-header"},ee={class:"operations-container"},ae=M(c({__name:"header",setup(e){const a=A(),l=()=>{a.updateConfig({showSettingPanel:!0})},s=()=>{window.open("https://github.com/hiliyongke/vue3-boilerplate.git")},r=()=>{window.open("https://github.com/hiliyongke/vue3-boilerplate.git")};return(e,a)=>{const o=q,t=O;return p(),h("header",$,[y(v(E),{class:"logo"}),b("div",ee,[y(t,{theme:"default",shape:"square",variant:"text",onClick:s},{default:f(()=>[y(o,{name:"logo-github",class:"icon"})]),_:1}),y(t,{theme:"default",shape:"square",variant:"text",onClick:r},{default:f(()=>[y(o,{name:"help-circle",class:"icon"})]),_:1}),y(t,{theme:"default",shape:"square",variant:"text",onClick:l},{default:f(()=>[y(o,{name:"setting",class:"icon"})]),_:1})])])}}}),[["__scopeId","data-v-6a957eb9"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/login/components/header.vue"]]),le=e=>(j("data-v-45258083"),e=e(),U(),e),se={class:"login-wrapper"},re={class:"login-container"},oe={class:"title-container"},te=le(()=>b("h1",{class:"title margin-no"},"登录",-1)),ie={class:"sub-title"},ne={class:"tip"},de=le(()=>b("footer",{class:"copyright"}," Copyright @ 2021-2022 xxx. All Rights Reserved ",-1));var ce;const ue=M(c((ce=i({},{name:"LoginIndex"}),a(ce,l({setup(e){const a=d("login"),l=e=>{a.value=e};return(e,s)=>(p(),h("div",se,[y(ae),b("div",re,[b("div",oe,[te,k(' <h1 class="title">Vue3 Admin Starter</h1> '),b("div",ie,[b("p",ne,C("register"==v(a)?"已有账号?":"没有账号吗?"),1),b("p",{class:"tip",onClick:s[0]||(s[0]=e=>l("register"==v(a)?"login":"register"))},C("register"==v(a)?"登录":"注册新账号"),1)])]),"login"===v(a)?(p(),m(J,{key:0})):(p(),m(Z,{key:1,onRegisterSuccess:s[1]||(s[1]=e=>l("login"))})),y(H)]),de]))}})))),[["__scopeId","data-v-45258083"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/login/index.vue"]]);export{ue as default};
//# sourceMappingURL=index-5c5da782.js.map
