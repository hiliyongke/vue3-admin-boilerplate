{"version":3,"file":"index-b83ee7e2.js","sources":["../../../src/pages/form/step/constants.ts","../../../src/pages/form/step/index.vue"],"sourcesContent":["export const FORM_RULES = {\n  name: [{ required: true, message: '请选择合同名称', type: 'error' }],\n  type: [{ required: true, message: '请选择发票类型', type: 'error' }],\n  title: [{ required: true, message: '请输入发票抬头', type: 'error' }],\n  taxNum: [{ required: true, message: '请输入纳税人识别号', type: 'error' }],\n  consignee: [{ required: true, message: '请输入收货人', type: 'error' }],\n  mobileNum: [{ required: true, message: '请输入手机号码', type: 'error' }],\n  deliveryAddress: [\n    { required: true, message: '请选择收货地址', type: 'error' }\n  ],\n  fullAddress: [{ required: true, message: '请输入详细地址', type: 'error' }]\n};\n\nexport const NAME_OPTIONS = [\n  { label: '合同A', value: '1' },\n  { label: '合同B', value: '2' },\n  { label: '合同C', value: '3' }\n];\n\nexport const TYPE_OPTIONS = [\n  { label: '类型A', value: '1' },\n  { label: '类型B', value: '2' },\n  { label: '类型C', value: '3' }\n];\n\nexport const ADDRESS_OPTIONS = [\n  { label: '广东省深圳市南山区', value: '1' },\n  { label: '北京市海淀区', value: '2' },\n  { label: '上海市徐汇区', value: '3' },\n  { label: '四川省成都市高新区', value: '4' },\n  { label: '广东省广州市天河区', value: '5' },\n  { label: '陕西省西安市高新区', value: '6' }\n];\n\nexport const INITIAL_DATA1 = {\n  name: '',\n  type: ''\n};\n\nexport const INITIAL_DATA2 = {\n  title: '',\n  taxNum: '',\n  address: '',\n  bank: '',\n  bankAccount: '',\n  email: '',\n  tel: ''\n};\n\nexport const INITIAL_DATA3 = {\n  consignee: '',\n  mobileNum: '',\n  deliveryAddress: '',\n  fullAddress: ''\n};\n","<template>\n  <div>\n    <div class=\"form-step-container\">\n      <!-- 简单步骤条 -->\n      <t-card :bordered=\"false\">\n        <t-steps\n          class=\"step-container\"\n          :current=\"activeForm\"\n          status=\"process\"\n        >\n          <t-step-item title=\"提交开票申请\" />\n          <t-step-item title=\"填写发票信息\" />\n          <t-step-item title=\"确认邮寄地址\" />\n          <t-step-item title=\"完成\" />\n        </t-steps>\n      </t-card>\n\n      <!-- 分步表单1 -->\n      <div\n        v-show=\"activeForm === 0\"\n        class=\"rule-tips\"\n      >\n        <t-alert\n          theme=\"info\"\n          title=\"发票开具规则：\"\n          :close=\"true\"\n        >\n          <template #message>\n            <p>\n              1、申请开票后，电子发票在1～3个工作日内开具；增值税专用发票（纸质）如资质审核通过，将在电子发票开具后10个工作日内为您寄出；\n            </p>\n            <p>2、开票金额为您实际支付金额；</p>\n            <p>3、如有疑问请直接联系：13300001111。</p>\n          </template>\n        </t-alert>\n      </div>\n      <t-form\n        v-show=\"activeForm === 0\"\n        class=\"step-form\"\n        :data=\"formData1\"\n        :rules=\"FORM_RULES\"\n        label-align=\"right\"\n        @submit=\"result => onSubmit(result, 1)\"\n      >\n        <t-form-item\n          label=\"合同名称\"\n          name=\"name\"\n        >\n          <t-select\n            v-model=\"formData1.name\"\n            :style=\"{ width: '480px' }\"\n            class=\"demo-select-base\"\n            clearable\n          >\n            <t-option\n              v-for=\"(item, index) in NAME_OPTIONS\"\n              :key=\"index\"\n              :value=\"item.value\"\n              :label=\"item.label\"\n            >\n              {{ item.label }}\n            </t-option>\n          </t-select>\n        </t-form-item>\n        <t-form-item\n          label=\"发票类型\"\n          name=\"type\"\n        >\n          <t-select\n            v-model=\"formData1.type\"\n            :style=\"{ width: '480px' }\"\n            class=\"demo-select-base\"\n            clearable\n          >\n            <t-option\n              v-for=\"(item, index) in TYPE_OPTIONS\"\n              :key=\"index\"\n              :value=\"item.value\"\n              :label=\"item.label\"\n            >\n              {{ item.label }}\n            </t-option>\n          </t-select>\n        </t-form-item>\n        <t-form-item label=\"开票金额\">{{ amount }} 元</t-form-item>\n        <t-form-item>\n          <t-button\n            theme=\"primary\"\n            type=\"submit\"\n          >\n            提交申请\n          </t-button>\n        </t-form-item>\n      </t-form>\n\n      <!-- 分步表单2 -->\n      <t-form\n        v-show=\"activeForm === 1\"\n        class=\"step-form\"\n        :data=\"formData2\"\n        :rules=\"FORM_RULES\"\n        label-align=\"left\"\n        @reset=\"onReset(0)\"\n        @submit=\"result => onSubmit(result, 2)\"\n      >\n        <t-form-item\n          label=\"发票抬头\"\n          name=\"title\"\n        >\n          <t-input\n            v-model=\"formData2.title\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入发票抬头\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"纳税人识别号\"\n          name=\"taxNum\"\n        >\n          <t-input\n            v-model=\"formData2.taxNum\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入纳税人识别号\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"单位地址\"\n          name=\"address\"\n        >\n          <t-input\n            v-model=\"formData2.address\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入单位地址\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"开户行\"\n          name=\"bank\"\n        >\n          <t-input\n            v-model=\"formData2.bank\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入开户行\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"银行账号\"\n          name=\"bankAccount\"\n        >\n          <t-input\n            v-model=\"formData2.bankAccount\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入银行账号\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"通知邮箱\"\n          name=\"email\"\n        >\n          <t-input\n            v-model=\"formData2.email\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入通知邮箱\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"通知手机\"\n          name=\"tel\"\n        >\n          <t-input\n            v-model=\"formData2.tel\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入通知手机\"\n          />\n        </t-form-item>\n        <t-form-item>\n          <t-button\n            type=\"reset\"\n            theme=\"default\"\n            variant=\"base\"\n          >\n            上一步\n          </t-button>\n          <t-button\n            theme=\"primary\"\n            type=\"submit\"\n          >\n            下一步\n          </t-button>\n        </t-form-item>\n      </t-form>\n\n      <!-- 分步表单3 -->\n      <t-form\n        v-show=\"activeForm === 2\"\n        class=\"step-form\"\n        :data=\"formData3\"\n        :rules=\"FORM_RULES\"\n        label-align=\"left\"\n        @reset=\"onReset(1)\"\n        @submit=\"result => onSubmit(result, 6)\"\n      >\n        <t-form-item\n          label=\"收货人\"\n          name=\"consignee\"\n        >\n          <t-input\n            v-model=\"formData3.consignee\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入收货人\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"手机号码\"\n          name=\"mobileNum\"\n        >\n          <t-input\n            v-model=\"formData3.mobileNum\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入手机号码\"\n          />\n        </t-form-item>\n        <t-form-item\n          label=\"收货地址\"\n          name=\"deliveryAddress\"\n        >\n          <t-select\n            v-model=\"formData3.deliveryAddress\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请选择收货地址\"\n            class=\"demo-select-base\"\n            clearable\n          >\n            <t-option\n              v-for=\"(item, index) in ADDRESS_OPTIONS\"\n              :key=\"index\"\n              :value=\"item.value\"\n              :label=\"item.label\"\n            >\n              {{ item.label }}\n            </t-option>\n          </t-select>\n        </t-form-item>\n        <t-form-item\n          label=\"详细地址\"\n          name=\"fullAddress\"\n        >\n          <t-textarea\n            v-model=\"formData3.fullAddress\"\n            :style=\"{ width: '480px' }\"\n            placeholder=\"请输入详细地址\"\n          />\n        </t-form-item>\n        <t-form-item>\n          <t-button\n            type=\"reset\"\n            theme=\"default\"\n            variant=\"base\"\n          >\n            上一步\n          </t-button>\n          <t-button\n            theme=\"primary\"\n            type=\"submit\"\n          >\n            下一步\n          </t-button>\n        </t-form-item>\n      </t-form>\n\n      <!-- 分步表单4 -->\n      <div\n        v-show=\"activeForm === 6\"\n        class=\"step-form-4\"\n      >\n        <t-icon\n          name=\"check-circle-filled\"\n          style=\"color: green\"\n          size=\"52px\"\n        />\n        <p class=\"text\">完成开票申请</p>\n        <p class=\"tips\">\n          预计1～3个工作日会将电子发票发至邮箱，发票邮寄请耐心等待\n        </p>\n        <div class=\"button-group\">\n          <t-button\n            theme=\"primary\"\n            @click=\"onReset(0)\"\n          >\n            再次申请\n          </t-button>\n          <t-button\n            variant=\"base\"\n            theme=\"default\"\n            @click=\"complete\"\n          >\n            查看进度\n          </t-button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nexport default {\n  name: 'FormStep'\n};\n</script>\n\n<script setup lang=\"ts\">\nimport { useRouter } from 'vue-router';\nimport { ValidateResultContext } from 'tdesign-vue-next';\n\nimport {\n  FORM_RULES,\n  NAME_OPTIONS,\n  TYPE_OPTIONS,\n  ADDRESS_OPTIONS,\n  INITIAL_DATA1,\n  INITIAL_DATA2,\n  INITIAL_DATA3\n} from './constants';\n\nconst formData1 = ref({ ...INITIAL_DATA1 });\nconst formData2 = ref({ ...INITIAL_DATA2 });\nconst formData3 = ref({ ...INITIAL_DATA3 });\nconst activeForm = ref(0);\n\nconst amount = computed(() => {\n  if (formData1.value.name === '1') {\n    return '565421';\n  }\n  if (formData1.value.name === '2') {\n    return '278821';\n  }\n  if (formData1.value.name === '3') {\n    return '109824';\n  }\n  return '--';\n});\n\nconst onSubmit = (result: ValidateResultContext<FormData>, val: number) => {\n  if (result.validateResult === true) {\n    activeForm.value = val;\n  }\n};\nconst onReset = (val: number) => {\n  activeForm.value = val;\n};\nconst complete = () => {\n  const router = useRouter();\n  router.replace({ path: '/detail/advanced' });\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url('./index.less');\n</style>\n"],"names":["FORM_RULES","name","required","message","type","title","taxNum","consignee","mobileNum","deliveryAddress","fullAddress","NAME_OPTIONS","label","value","TYPE_OPTIONS","ADDRESS_OPTIONS","INITIAL_DATA1","INITIAL_DATA2","address","bank","bankAccount","email","tel","INITIAL_DATA3","formData1","ref","__spreadValues","formData2","formData3","activeForm","amount","computed","onSubmit","result","val","validateResult","onReset","complete","useRouter","replace","path"],"mappings":"qrBAAO,MAAMA,EAAa,CACxBC,KAAM,CAAC,CAAEC,UAAU,EAAMC,QAAS,UAAWC,KAAM,UACnDA,KAAM,CAAC,CAAEF,UAAU,EAAMC,QAAS,UAAWC,KAAM,UACnDC,MAAO,CAAC,CAAEH,UAAU,EAAMC,QAAS,UAAWC,KAAM,UACpDE,OAAQ,CAAC,CAAEJ,UAAU,EAAMC,QAAS,YAAaC,KAAM,UACvDG,UAAW,CAAC,CAAEL,UAAU,EAAMC,QAAS,SAAUC,KAAM,UACvDI,UAAW,CAAC,CAAEN,UAAU,EAAMC,QAAS,UAAWC,KAAM,UACxDK,gBAAiB,CACf,CAAEP,UAAU,EAAMC,QAAS,UAAWC,KAAM,UAE9CM,YAAa,CAAC,CAAER,UAAU,EAAMC,QAAS,UAAWC,KAAM,WAG/CO,EAAe,CAC1B,CAAEC,MAAO,MAAOC,MAAO,KACvB,CAAED,MAAO,MAAOC,MAAO,KACvB,CAAED,MAAO,MAAOC,MAAO,MAGZC,EAAe,CAC1B,CAAEF,MAAO,MAAOC,MAAO,KACvB,CAAED,MAAO,MAAOC,MAAO,KACvB,CAAED,MAAO,MAAOC,MAAO,MAGZE,EAAkB,CAC7B,CAAEH,MAAO,YAAaC,MAAO,KAC7B,CAAED,MAAO,SAAUC,MAAO,KAC1B,CAAED,MAAO,SAAUC,MAAO,KAC1B,CAAED,MAAO,YAAaC,MAAO,KAC7B,CAAED,MAAO,YAAaC,MAAO,KAC7B,CAAED,MAAO,YAAaC,MAAO,MAGlBG,EAAgB,CAC3Bf,KAAM,GACNG,KAAM,IAGKa,EAAgB,CAC3BZ,MAAO,GACPC,OAAQ,GACRY,QAAS,GACTC,KAAM,GACNC,YAAa,GACbC,MAAO,GACPC,IAAK,IAGMC,EAAgB,CAC3BhB,UAAW,GACXC,UAAW,GACXC,gBAAiB,GACjBC,YAAa,6dC4Pf,CAAeT,KAAA,8BAmBf,MAAAuB,EAAAC,EAAAC,EAAA,GAAAV,IACAW,EAAAF,EAAAC,EAAA,GAAAT,IACAW,EAAAH,EAAAC,EAAA,GAAAH,IACAM,EAAAJ,EAAA,GAEAK,EAAAC,EAAA,IACE,MAAAP,EAAAX,MAAAZ,KACE,SAEF,MAAAuB,EAAAX,MAAAZ,KACE,SAEF,MAAAuB,EAAAX,MAAAZ,KACE,SAEF,MAGF+B,EAAA,CAAAC,EAAAC,MACE,IAAAD,EAAAE,iBACEN,EAAAhB,MAAAqB,IAGJE,EAAAF,IACEL,EAAAhB,MAAAqB,GAEFG,EAAA,KACEC,IACAC,QAAA,CAAAC,KAAA"}