var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,s=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&n(e,a,t[a]);if(l)for(var a of l(t))i.call(t,a)&&n(e,a,t[a]);return e},r=(e,l)=>t(e,a(l));import{d,bM as c,k as u,g as p,h as m,bN as y,i as v,aj as b,c as h,y as g,x as f,N as x,u as w,A as k,bO as C,bP as _,bQ as S,bR as L,bS as O,bT as j,bU as P,bV as z,bG as I,aR as T,aV as N,o as W,e as A,a as D,t as E,s as G,m as K,F as V,r as H,aL as B,R,C as M,bJ as U,T as F,bL as J,p as Q,b as q}from"./.pnpm-3e45f2fc.js";import{a as X,r as Y,p as Z,_ as $}from"./index-8f8d23fb.js";import{g as ee,a as te,b as ae,c as le}from"./charts-66794882.js";function oe({dateTime:e=[],placeholderColor:t,borderColor:a}){let l=["00:00","02:00","04:00","06:00"];if(e.length>0){l=ee(e,7)}return{color:te(),tooltip:{trigger:"item"},grid:{top:"10px",left:"0",right:"20px",bottom:"36px",containLabel:!0},xAxis:{type:"category",data:l,boundaryGap:!1,axisLabel:{color:t},axisLine:{lineStyle:{color:a,width:1}}},yAxis:{type:"value",axisLabel:{color:t},splitLine:{lineStyle:{color:a}}},legend:{data:["本月","上月"],icon:"circle",bottom:"0",itemGap:48,itemHeight:8,itemWidth:8,textStyle:{fontSize:12,color:t}},series:[{name:"上月",data:[ae(),ae(),ae(),ae(),ae(),ae(),ae()],type:"line",smooth:!0,color:te()[0],showSymbol:!0,symbol:"circle",symbolSize:8},{name:"本月",data:[ae(),ae(),ae(),ae(),ae(),ae(),ae()],type:"line",smooth:!0,showSymbol:!0,symbol:"circle",symbolSize:8,color:te()[1]}]}}const ie=[100,120,140,160,180,200,210];function ne({isMonth:e=!1,placeholderColor:t,borderColor:a}){let l=ie.concat([]),o=ie.concat([]);return e&&(l=l.reverse(),o=o.reverse()),{color:te(),tooltip:{trigger:"item"},grid:{top:"10px",left:"0",right:"0",bottom:"36px",containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisTick:{alignWithLabel:!0},axisLabel:{color:t},axisLine:{lineStyle:{color:a,width:1}}}],yAxis:[{type:"value",axisLabel:{color:t},splitLine:{lineStyle:{color:a}}}],legend:{data:["去年","今年"],bottom:"0",icon:"rect",itemGap:48,itemHeight:4,itemWidth:12,textStyle:{fontSize:12,color:t}},series:[{name:"去年",type:"bar",barWidth:"30%",data:l},{name:"今年",type:"bar",barWidth:"30%",data:o}]}}const se=[{name:"集群名",value:"helloworld",type:null},{name:"集群ID",value:"cls - 2ntelvxw",type:{key:"color",value:"blue"}},{name:"状态",value:"运行中",type:{key:"color",value:"green"}},{name:"K8S版本",value:"1.7.8",type:null},{name:"配置",value:"6.73 核 10.30 GB",type:null},{name:"所在地域",value:"广州",type:null},{name:"新增资源所属项目",value:"默认项目",type:null},{name:"节点数量",value:"4 个",type:null},{name:"节点网络",value:"vpc - 5frmkm1x",type:{key:"color",value:"blue"}},{name:"容器网络",value:"172.16.0.0 / 16",type:null},{name:"集群凭证",value:"显示凭证",type:{key:"color",value:"blue"}},{name:"创建/更新",value:"2018-05-31 22:11:44 2018-05-31 22:11:44",type:{key:"contractAnnex",value:"pdf"}},{name:"描述",value:"istio_test",type:null}],re=[{width:"448",ellipsis:!0,colKey:"name",title:"项目名称",sorter:(e,t)=>e.name.substr(10)-t.name.substr(10)},{width:"448",ellipsis:!0,colKey:"adminName",title:"管理员"},{width:"448",className:"test",ellipsis:!0,colKey:"updateTime",title:"创建时间",sorter:(e,t)=>Date.parse(e.updateTime)-Date.parse(t.updateTime)},{align:"left",width:"200",className:"test2",ellipsis:!0,colKey:"op",fixed:"right",title:"操作"}],de=e=>(Q("data-v-8746d763"),e=e(),q(),e),ce={class:"detail-deploy"},ue=de(()=>D("div",{class:"deploy-panel-left"},[D("div",{id:"monitorContainer",style:{width:"100%",height:"265px"}})],-1)),pe=de(()=>D("div",{id:"dataContainer",style:{width:"100%",height:"265px"}},null,-1)),me=["onClick"],ye={class:"dialog-info-block"},ve={class:"dialog-info-block"},be=$(d(r(s({},{name:"DetailDeploy"}),{setup(e){c([C,_,S,L,O,j,P,z]);const t=X(),a=u(()=>t.chartColors),l=p([]),o=p({defaultPageSize:10,total:100,defaultCurrent:1}),i=()=>{return e=this,t=null,a=function*(){try{const e=yield Y.get("/api/get-project-list");if(0===e.code){const{list:t=[]}=e.data;l.value=t,o.value=r(s({},o.value),{total:t.length})}}catch(e){}},new Promise((l,o)=>{var i=e=>{try{s(a.next(e))}catch(t){o(t)}},n=e=>{try{s(a.throw(e))}catch(t){o(t)}},s=e=>e.done?l(e.value):Promise.resolve(e.value).then(i,n);s((a=a.apply(e,t)).next())});var e,t,a},n=p(!1);let d,Q,q,$;m(()=>{d=document.getElementById("monitorContainer"),Q=y(d),Q.setOption(oe(s({},a.value))),setInterval(()=>{Q.setOption(oe(s({},a.value)))},3e3)}),m(()=>{q=document.getElementById("dataContainer"),$=y(q),$.setOption(ne(s({},a.value)))});const ee=()=>{Q.resize({width:d.clientWidth,height:d.clientHeight}),$.resize({width:q.clientWidth,height:q.clientHeight})};v(()=>{window.removeEventListener("resize",ee),clearInterval(null)});const te=()=>{$.setOption(ne(s({},a.value)))};m(()=>{i(),window.addEventListener("resize",ee,!1)}),b(()=>t.brandTheme,()=>{le([Q,$])});const ae=e=>{},ie=(e,t)=>{},de=()=>{n.value=!1};return(e,t)=>{const a=I,i=B,s=R,r=M,d=T,c=U,u=F,p=J,m=N;return W(),h("div",ce,[g(d,{gutter:16},{default:f(()=>[g(i,{lg:6,xs:12},{default:f(()=>[g(a,{title:"部署趋势"},{default:f(()=>[ue]),_:1})]),_:1}),g(i,{lg:6,xs:12},{default:f(()=>[g(a,{title:"告警情况"},{option:f(()=>[g(r,{"default-value":"dateVal",onChange:te},{default:f(()=>[g(s,{value:"dateVal"},{default:f(()=>[A("本周")]),_:1}),g(s,{value:"monthVal"},{default:f(()=>[A("本月")]),_:1})]),_:1})]),default:f(()=>[pe]),_:1})]),_:1})]),_:1}),x(" 项目列表 "),g(a,{title:"项目列表",class:"container-base-margin-top"},{default:f(()=>[g(p,{columns:w(re),data:w(l),pagination:w(o),hover:!0,"row-key":"index",onSortChange:ae,onChange:ie},{adminName:f(({row:e})=>[D("span",null,[A(E(e.adminName)+" ",1),e.adminPhone?(W(),G(c,{key:0,size:"small"},{default:f(()=>[A(E(e.adminPhone),1)]),_:2},1024)):x("v-if",!0)])]),op:f(e=>[D("a",{class:K(w(Z)+"-link"),onClick:t[0]||(t[0]=e=>{n.value=!0})}," 管理 ",2),D("a",{class:K(w(Z)+"-link"),onClick:t=>{return a=e,void l.value.splice(a.rowIndex,1);var a}}," 删除 ",10,me)]),"op-column":f(()=>[g(u,{name:"descending-order"})]),_:1},8,["columns","data","pagination"])]),_:1}),g(m,{visible:w(n),"onUpdate:visible":t[1]||(t[1]=e=>k(n)?n.value=e:null),header:"基本信息",onConfirm:de},{body:f(()=>[D("div",ye,[D("div",ve,[(W(!0),h(V,null,H(w(se),(e,t)=>(W(),h("div",{key:t,class:"info-item"},[D("h1",null,E(e.name),1),D("span",{class:K({green:e.type&&"green"===e.type.value,blue:e.type&&"blue"===e.type.value})},E(e.value),3)]))),128))])])]),_:1},8,["visible"])])}}})),[["__scopeId","data-v-8746d763"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/detail/deploy/index.vue"]]);export{be as default};
//# sourceMappingURL=index-a059b5c9.js.map
