var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,n=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,s=(e,t)=>{for(var a in t||(t={}))o.call(t,a)&&n(e,a,t[a]);if(l)for(var a of l(t))i.call(t,a)&&n(e,a,t[a]);return e},r=(e,l)=>t(e,a(l));import{b as c,r as d,p as u,_ as p}from"./index-4900769b.js";import{g as m,a as y,b as v,c as b}from"./charts-520f418e.js";import{d as h,bR as g,k as f,g as x,h as w,bS as k,i as C,a7 as _,c as S,y as L,x as O,u as j,A as z,bT as P,bU as W,bV as I,bW as T,bX as A,bY as D,bZ as K,b_ as E,bL as N,aW as G,a_ as H,o as V,e as B,a as Q,t as R,s as U,K as F,m as J,F as M,r as X,aQ as Y,R as Z,C as q,bO as $,Q as ee,bQ as te,p as ae,b as le}from"./.pnpm-e6c61d32.js";function oe({dateTime:e=[],placeholderColor:t,borderColor:a}){let l=["00:00","02:00","04:00","06:00"];if(e.length>0){l=m(e,7)}return{color:y(),tooltip:{trigger:"item"},grid:{top:"10px",left:"0",right:"20px",bottom:"36px",containLabel:!0},xAxis:{type:"category",data:l,boundaryGap:!1,axisLabel:{color:t},axisLine:{lineStyle:{color:a,width:1}}},yAxis:{type:"value",axisLabel:{color:t},splitLine:{lineStyle:{color:a}}},legend:{data:["本月","上月"],icon:"circle",bottom:"0",itemGap:48,itemHeight:8,itemWidth:8,textStyle:{fontSize:12,color:t}},series:[{name:"上月",data:[v(),v(),v(),v(),v(),v(),v()],type:"line",smooth:!0,color:y()[0],showSymbol:!0,symbol:"circle",symbolSize:8},{name:"本月",data:[v(),v(),v(),v(),v(),v(),v()],type:"line",smooth:!0,showSymbol:!0,symbol:"circle",symbolSize:8,color:y()[1]}]}}const ie=[100,120,140,160,180,200,210];function ne({isMonth:e=!1,placeholderColor:t,borderColor:a}){let l=ie.concat([]),o=ie.concat([]);return e&&(l=l.reverse(),o=o.reverse()),{color:y(),tooltip:{trigger:"item"},grid:{top:"10px",left:"0",right:"0",bottom:"36px",containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisTick:{alignWithLabel:!0},axisLabel:{color:t},axisLine:{lineStyle:{color:a,width:1}}}],yAxis:[{type:"value",axisLabel:{color:t},splitLine:{lineStyle:{color:a}}}],legend:{data:["去年","今年"],bottom:"0",icon:"rect",itemGap:48,itemHeight:4,itemWidth:12,textStyle:{fontSize:12,color:t}},series:[{name:"去年",type:"bar",barWidth:"30%",data:l},{name:"今年",type:"bar",barWidth:"30%",data:o}]}}const se=[{name:"集群名",value:"helloworld",type:null},{name:"集群ID",value:"cls - 2ntelvxw",type:{key:"color",value:"blue"}},{name:"状态",value:"运行中",type:{key:"color",value:"green"}},{name:"K8S版本",value:"1.7.8",type:null},{name:"配置",value:"6.73 核 10.30 GB",type:null},{name:"所在地域",value:"广州",type:null},{name:"新增资源所属项目",value:"默认项目",type:null},{name:"节点数量",value:"4 个",type:null},{name:"节点网络",value:"vpc - 5frmkm1x",type:{key:"color",value:"blue"}},{name:"容器网络",value:"172.16.0.0 / 16",type:null},{name:"集群凭证",value:"显示凭证",type:{key:"color",value:"blue"}},{name:"创建/更新",value:"2018-05-31 22:11:44 2018-05-31 22:11:44",type:{key:"contractAnnex",value:"pdf"}},{name:"描述",value:"istio_test",type:null}],re=[{width:"448",ellipsis:!0,colKey:"name",title:"项目名称",sorter:(e,t)=>e.name.substr(10)-t.name.substr(10)},{width:"448",ellipsis:!0,colKey:"adminName",title:"管理员"},{width:"448",className:"test",ellipsis:!0,colKey:"updateTime",title:"创建时间",sorter:(e,t)=>Date.parse(e.updateTime)-Date.parse(t.updateTime)},{align:"left",width:"200",className:"test2",ellipsis:!0,colKey:"op",fixed:"right",title:"操作"}],ce=e=>(ae("data-v-4ec1ec8b"),e=e(),le(),e),de={class:"detail-deploy"},ue=ce(()=>Q("div",{class:"deploy-panel-left"},[Q("div",{id:"monitorContainer",style:{width:"100%",height:"265px"}})],-1)),pe=ce(()=>Q("div",{id:"dataContainer",style:{width:"100%",height:"265px"}},null,-1)),me=["onClick"],ye={class:"dialog-info-block"},ve={class:"dialog-info-block"},be=p(h(r(s({},{name:"DetailDeploy"}),{setup(e){g([P,W,I,T,A,D,K,E]);const t=c(),a=f(()=>t.chartColors),l=x([]),o=x({defaultPageSize:10,total:100,defaultCurrent:1}),i=()=>{return e=this,t=null,a=function*(){try{const e=yield d.get("/api/get-project-list");if(0===e.code){const{list:t=[]}=e.data;l.value=t,o.value=r(s({},o.value),{total:t.length})}}catch(e){}},new Promise((l,o)=>{var i=e=>{try{s(a.next(e))}catch(t){o(t)}},n=e=>{try{s(a.throw(e))}catch(t){o(t)}},s=e=>e.done?l(e.value):Promise.resolve(e.value).then(i,n);s((a=a.apply(e,t)).next())});var e,t,a},n=x(!1);let p,m,y,v;w(()=>{p=document.getElementById("monitorContainer"),m=k(p),m.setOption(oe(s({},a.value))),setInterval(()=>{m.setOption(oe(s({},a.value)))},3e3)}),w(()=>{y=document.getElementById("dataContainer"),v=k(y),v.setOption(ne(s({},a.value)))});const h=()=>{m.resize({width:p.clientWidth,height:p.clientHeight}),v.resize({width:y.clientWidth,height:y.clientHeight})};C(()=>{window.removeEventListener("resize",h),clearInterval(null)});const ae=()=>{v.setOption(ne(s({},a.value)))};w(()=>{i(),window.addEventListener("resize",h,!1)}),_(()=>t.brandTheme,()=>{b([m,v])});const le=e=>{},ie=(e,t)=>{},ce=()=>{n.value=!1};return(e,t)=>{const a=N,i=Y,s=Z,r=q,c=G,d=$,p=ee,m=te,y=H;return V(),S("div",de,[L(c,{gutter:16},{default:O(()=>[L(i,{lg:6,xs:12},{default:O(()=>[L(a,{title:"部署趋势"},{default:O(()=>[ue]),_:1})]),_:1}),L(i,{lg:6,xs:12},{default:O(()=>[L(a,{title:"告警情况"},{option:O(()=>[L(r,{"default-value":"dateVal",onChange:ae},{default:O(()=>[L(s,{value:"dateVal"},{default:O(()=>[B("本周")]),_:1}),L(s,{value:"monthVal"},{default:O(()=>[B("本月")]),_:1})]),_:1})]),default:O(()=>[pe]),_:1})]),_:1})]),_:1}),L(a,{title:"项目列表",class:"container-base-margin-top"},{default:O(()=>[L(m,{columns:j(re),data:j(l),pagination:j(o),hover:!0,"row-key":"index",onSortChange:le,onChange:ie},{adminName:O(({row:e})=>[Q("span",null,[B(R(e.adminName)+" ",1),e.adminPhone?(V(),U(d,{key:0,size:"small"},{default:O(()=>[B(R(e.adminPhone),1)]),_:2},1024)):F("",!0)])]),op:O(e=>[Q("a",{class:J(j(u)+"-link"),onClick:t[0]||(t[0]=e=>{n.value=!0})}," 管理 ",2),Q("a",{class:J(j(u)+"-link"),onClick:t=>{return a=e,void l.value.splice(a.rowIndex,1);var a}}," 删除 ",10,me)]),"op-column":O(()=>[L(p,{name:"descending-order"})]),_:1},8,["columns","data","pagination"])]),_:1}),L(y,{visible:j(n),"onUpdate:visible":t[1]||(t[1]=e=>z(n)?n.value=e:null),header:"基本信息",onConfirm:ce},{body:O(()=>[Q("div",ye,[Q("div",ve,[(V(!0),S(M,null,X(j(se),(e,t)=>(V(),S("div",{key:t,class:"info-item"},[Q("h1",null,R(e.name),1),Q("span",{class:J({green:e.type&&"green"===e.type.value,blue:e.type&&"blue"===e.type.value})},R(e.value),3)]))),128))])])]),_:1},8,["visible"])])}}})),[["__scopeId","data-v-4ec1ec8b"]]);export{be as default};
//# sourceMappingURL=index-89fda3f4.js.map
