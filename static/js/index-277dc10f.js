var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,o=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t,i=(e,a)=>{for(var l in a||(a={}))u.call(a,l)&&o(e,l,a[l]);if(t)for(var l of t(a))s.call(a,l)&&o(e,l,a[l]);return e},r=(e,t)=>a(e,l(t));import{d as n,g as d,aj as v,s as p,x as c,u as m,A as b,aV as f,o as y,N as g,y as h,e as _,c as V,r as x,t as w,F as k,M as z,V as j,E as U,bX as O,C as P,aM as S,aN as C,aT as I,I as M,H as E,k as D,h as L,a as N,aR as q,c1 as A,c0 as B,aL as F,c2 as H}from"./.pnpm-3e45f2fc.js";import{P as R}from"./index-7497eb24.js";import{_ as T}from"./index-8f8d23fb.js";import{a as X}from"./list-cbaf6115.js";const $=T(n({__name:"dialog-form",props:{visible:{type:Boolean,default:!1},data:{type:Object,default:()=>({})}},emits:["update:visible"],setup(e,{emit:a}){const l=e,t={name:"",status:"",description:"",type:"",mark:"",amount:0},u=[{label:"网关",value:"1"},{label:"人工智能",value:"2"},{label:"CVM",value:"3"}],s=d(!1),o=d(l.data),r=d(""),n=({result:e,firstError:a})=>{a?z.warning(a):(z.success("提交成功"),s.value=!1)},D=()=>{s.value=!1,o.value=i({},t)};v(()=>s.value,e=>{a("update:visible",e)}),v(()=>l.visible,e=>{s.value=e}),v(()=>l.data,e=>{o.value=e});const L={name:[{required:!0,message:"请输入产品名称",type:"error"}]};return(e,a)=>{const l=j,t=U,i=O,d=P,v=S,z=C,N=I,q=M,A=E,B=f;return y(),p(B,{visible:m(s),"onUpdate:visible":a[5]||(a[5]=e=>b(s)?s.value=e:null),header:"新建产品",width:680,footer:!1},{body:c(()=>[g(" 表单内容 "),h(A,{ref:"form",data:m(o),rules:L,"label-width":100,onSubmit:n},{default:c(()=>[h(t,{label:"产品名称",name:"name"},{default:c(()=>[h(l,{modelValue:m(o).name,"onUpdate:modelValue":a[0]||(a[0]=e=>m(o).name=e),style:{width:"480px"},placeholder:"请输入产品名称"},null,8,["modelValue"])]),_:1}),h(t,{label:"产品状态",name:"status"},{default:c(()=>[h(d,{modelValue:m(o).status,"onUpdate:modelValue":a[1]||(a[1]=e=>m(o).status=e)},{default:c(()=>[h(i,{value:"0"},{default:c(()=>[_("已停用")]),_:1}),h(i,{value:"1"},{default:c(()=>[_("已启用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),h(t,{label:"产品描述",name:"description"},{default:c(()=>[h(l,{modelValue:m(o).description,"onUpdate:modelValue":a[2]||(a[2]=e=>m(o).description=e),style:{width:"480px"},placeholder:"请输入产品描述"},null,8,["modelValue"])]),_:1}),h(t,{label:"产品类型",name:"type"},{default:c(()=>[h(z,{modelValue:m(o).type,"onUpdate:modelValue":a[3]||(a[3]=e=>m(o).type=e),clearable:"",style:{width:"480px"}},{default:c(()=>[(y(),V(k,null,x(u,(e,a)=>h(v,{key:a,value:e.value,label:e.label},{default:c(()=>[_(w(e.label),1)]),_:2},1032,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1}),h(t,{label:"备注",name:"mark"},{default:c(()=>[h(N,{modelValue:m(r),"onUpdate:modelValue":a[4]||(a[4]=e=>b(r)?r.value=e:null),style:{width:"480px"},placeholder:"请输入内容",name:"description"},null,8,["modelValue"])]),_:1}),h(t,{style:{float:"right"}},{default:c(()=>[h(q,{variant:"outline",onClick:D},{default:c(()=>[_(" 取消 ")]),_:1}),h(q,{theme:"primary",type:"submit"},{default:c(()=>[_(" 确定 ")]),_:1})]),_:1})]),_:1},8,["data"])]),_:1},8,["visible"])}}}),[["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/list/card/components/dialog-form.vue"]]),G={class:"list-card-operation"},J={class:"search-input"},K={class:"list-card-items"},Q={class:"list-card-pagination"},W={key:1,class:"list-card-loading"},Y=T(n(r(i({},{name:"ListCard"}),{setup(e){const a={name:"",status:"",description:"",type:"",mark:"",amount:0},l=d({current:1,pageSize:12,total:0}),t=d(void 0),u=d([]),s=d(!0),o=()=>{return e=this,a=null,t=function*(){try{const{list:e}=yield X();u.value=e,l.value=r(i({},l.value),{total:e.length})}catch(e){}finally{s.value=!1}},new Promise((l,u)=>{var s=e=>{try{i(t.next(e))}catch(a){u(a)}},o=e=>{try{i(t.throw(e))}catch(a){u(a)}},i=e=>e.done?l(e.value):Promise.resolve(e.value).then(s,o);i((t=t.apply(e,a)).next())});var e,a,t},n=D(()=>t.value?`确认删除后${t.value.name}的所有产品信息将被清空, 且无法恢复`:"");L(()=>{o()});const v=d(!1),b=d(""),w=d(!1),U=d(i({},a)),O=e=>{l.value.pageSize=e,l.value.current=1},P=e=>{l.value.current=e},S=e=>{w.value=!0,t.value=e},C=()=>{const{index:e}=t.value;u.value.splice(e-1,1),w.value=!1,z.success("删除成功")},I=()=>{t.value=void 0,U.value=i({},a)},E=e=>{v.value=!0,U.value=r(i({},e),{status:(null==e?void 0:e.isSetup)?"1":"0"})};return(e,a)=>{const t=M,o=j,i=F,r=q,d=A,z=H,D=f;return y(),V("div",null,[N("div",G,[h(t,{onClick:a[0]||(a[0]=e=>v.value=!0)},{default:c(()=>[_("新建产品")]),_:1}),N("div",J,[h(o,{modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=e=>b.value=e),placeholder:"请输入你需要搜索的内容",clearable:""},{"suffix-icon":c(()=>[""===b.value?(y(),p(m(B),{key:0,size:"20px"})):g("v-if",!0)]),_:1},8,["modelValue"])])]),h($,{visible:v.value,"onUpdate:visible":a[2]||(a[2]=e=>v.value=e),data:U.value},null,8,["visible","data"]),l.value.total>0&&!s.value?(y(),V(k,{key:0},[N("div",K,[h(r,{gutter:[16,12]},{default:c(()=>[(y(!0),V(k,null,x(u.value.slice(l.value.pageSize*(l.value.current-1),l.value.pageSize*l.value.current),e=>(y(),p(i,{key:e.index,lg:4,xs:6,xl:3},{default:c(()=>[h(R,{class:"list-card-item",product:e,onDeleteItem:S,onManageProduct:E},null,8,["product"])]),_:2},1024))),128))]),_:1})]),N("div",Q,[h(d,{modelValue:l.value.current,"onUpdate:modelValue":a[3]||(a[3]=e=>l.value.current=e),"page-size":l.value.pageSize,"onUpdate:page-size":a[4]||(a[4]=e=>l.value.pageSize=e),total:l.value.total,"page-size-options":[12,24,36],onPageSizeChange:O,onCurrentChange:P},null,8,["modelValue","page-size","total"])])],64)):s.value?(y(),V("div",W,[h(z,{size:"large",text:"加载数据中..."})])):g("v-if",!0),h(D,{visible:w.value,"onUpdate:visible":a[5]||(a[5]=e=>w.value=e),header:"确认删除所选产品？",body:m(n),"on-cancel":I,onConfirm:C},null,8,["visible","body"])])}}})),[["__scopeId","data-v-909588c5"],["__file","/home/runner/work/vue3-admin-boilerplate/vue3-admin-boilerplate/src/pages/list/card/index.vue"]]);export{Y as default};
//# sourceMappingURL=index-277dc10f.js.map
