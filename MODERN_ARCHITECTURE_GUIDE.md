# Vue3 ç°ä»£åŒ–å‰ç«¯å·¥ç¨‹æ¶æ„æŒ‡å—

## æ¶æ„æ¦‚è¿°

æœ¬é¡¹ç›®é‡‡ç”¨äº†æœ€å…ˆè¿›çš„å‰ç«¯å·¥ç¨‹æ¶æ„è®¾è®¡ï¼Œéµå¾ªç°ä»£åŒ–å¼€å‘æœ€ä½³å®è·µï¼Œæä¾›äº†å®Œæ•´çš„ä¼ä¸šçº§è§£å†³æ–¹æ¡ˆã€‚

## æ ¸å¿ƒç‰¹æ€§

### ğŸš€ ç°ä»£åŒ–æŠ€æœ¯æ ˆ
- **Vue 3.5+** - æœ€æ–°çš„ç»„åˆå¼APIå’Œå“åº”å¼ç³»ç»Ÿ
- **TypeScript 5.7+** - å®Œæ•´çš„ç±»å‹å®‰å…¨ä¿éšœ
- **Vite 6.0+** - æé€Ÿçš„å¼€å‘æ„å»ºå·¥å…·
- **Pinia** - ç°ä»£åŒ–çŠ¶æ€ç®¡ç†
- **Vue Router 4** - å®˜æ–¹è·¯ç”±è§£å†³æ–¹æ¡ˆ

### ğŸ—ï¸ æ¶æ„è®¾è®¡åŸåˆ™
- **æ¨¡å—åŒ–è®¾è®¡** - æ¸…æ™°çš„æ¨¡å—è¾¹ç•Œå’ŒèŒè´£åˆ†ç¦»
- **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- **å¯æ‰©å±•æ€§** - æ˜“äºæ‰©å±•çš„æ’ä»¶åŒ–æ¶æ„
- **å¯ç»´æŠ¤æ€§** - æ ‡å‡†åŒ–çš„ä»£ç ç»„ç»‡å’Œè§„èŒƒ
- **æ€§èƒ½ä¼˜åŒ–** - å†…ç½®æ€§èƒ½ç›‘æ§å’Œä¼˜åŒ–ç­–ç•¥

## ç›®å½•ç»“æ„

```
src/
â”œâ”€â”€ api/                    # APIæ¥å£å±‚
â”‚   â”œâ”€â”€ core/              # æ ¸å¿ƒè¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ request.ts     # ç°ä»£åŒ–HTTPè¯·æ±‚ç±»
â”‚   â””â”€â”€ modules/           # APIæ¨¡å—
â”œâ”€â”€ assets/                # é™æ€èµ„æº
â”œâ”€â”€ components/            # ç»„ä»¶åº“
â”‚   â””â”€â”€ index.ts          # ç»„ä»¶ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ composables/           # ç»„åˆå¼API
â”‚   â””â”€â”€ core/             # æ ¸å¿ƒç»„åˆå¼å‡½æ•°
â”‚       â””â”€â”€ useRequest.ts  # è¯·æ±‚ç»„åˆå¼API
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ env.ts            # ç¯å¢ƒé…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ global.ts         # å…¨å±€é…ç½®
â”‚   â””â”€â”€ project.ts        # é¡¹ç›®é…ç½®
â”œâ”€â”€ constants/             # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€ index.ts          # å¸¸é‡ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ core/                  # åº”ç”¨æ ¸å¿ƒ
â”‚   â”œâ”€â”€ app.ts            # åº”ç”¨å¯åŠ¨å™¨
â”‚   â””â”€â”€ modules/          # æ ¸å¿ƒæ¨¡å—
â”‚       â”œâ”€â”€ router.ts     # è·¯ç”±æ¨¡å—
â”‚       â”œâ”€â”€ store.ts      # çŠ¶æ€ç®¡ç†æ¨¡å—
â”‚       â”œâ”€â”€ i18n.ts       # å›½é™…åŒ–æ¨¡å—
â”‚       â”œâ”€â”€ directives.ts # æŒ‡ä»¤æ¨¡å—
â”‚       â”œâ”€â”€ components.ts # ç»„ä»¶æ¨¡å—
â”‚       â”œâ”€â”€ plugins.ts    # æ’ä»¶æ¨¡å—
â”‚       â”œâ”€â”€ error-handler.ts # é”™è¯¯å¤„ç†æ¨¡å—
â”‚       â””â”€â”€ performance.ts # æ€§èƒ½ç›‘æ§æ¨¡å—
â”œâ”€â”€ directives/            # è‡ªå®šä¹‰æŒ‡ä»¤
â”œâ”€â”€ enums/                 # æšä¸¾å®šä¹‰
â”œâ”€â”€ hooks/                 # é’©å­å‡½æ•°
â”œâ”€â”€ i18n/                  # å›½é™…åŒ–
â”œâ”€â”€ layouts/               # å¸ƒå±€ç»„ä»¶
â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”œâ”€â”€ plugins/               # æ’ä»¶
â”œâ”€â”€ router/                # è·¯ç”±é…ç½®
â”œâ”€â”€ services/              # æœåŠ¡å±‚
â”‚   â””â”€â”€ index.ts          # æœåŠ¡ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ store/                 # çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ core/             # çŠ¶æ€ç®¡ç†æ ¸å¿ƒ
â”‚       â””â”€â”€ types.ts      # çŠ¶æ€ç±»å‹å®šä¹‰
â”œâ”€â”€ style/                 # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ types/                 # ç±»å‹å®šä¹‰
â”‚   â””â”€â”€ index.ts          # ç±»å‹ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ index.ts          # å·¥å…·ç»Ÿä¸€å¯¼å‡º
â”‚   â””â”€â”€ core/             # æ ¸å¿ƒå·¥å…·
â”‚       â”œâ”€â”€ performance.ts # æ€§èƒ½ç›‘æ§å·¥å…·
â”‚       â””â”€â”€ error-boundary.ts # é”™è¯¯è¾¹ç•Œå¤„ç†
â”œâ”€â”€ app.vue               # æ ¹ç»„ä»¶
â”œâ”€â”€ interface.ts          # æ¥å£å®šä¹‰
â””â”€â”€ main.ts               # åº”ç”¨å…¥å£
```

## æ ¸å¿ƒæ¶æ„ç»„ä»¶

### 1. åº”ç”¨å¯åŠ¨å™¨ (AppBootstrap)

ç°ä»£åŒ–çš„åº”ç”¨å¯åŠ¨æ¶æ„ï¼Œæä¾›æ¨¡å—åŒ–çš„åˆå§‹åŒ–æµç¨‹ï¼š

```typescript
// src/core/app.ts
export class AppBootstrap {
  async initialize(): Promise<App> {
    // æŒ‰ä¼˜å…ˆçº§åˆå§‹åŒ–å„ä¸ªæ¨¡å—
    await this.setupErrorHandler();
    await this.setupPerformanceMonitor();
    await this.setupStore();
    await this.setupRouter();
    // ... å…¶ä»–æ¨¡å—
  }
}
```

### 2. ç°ä»£åŒ–HTTPè¯·æ±‚ (HttpRequest)

åŸºäºaxiosçš„ç°ä»£åŒ–è¯·æ±‚å°è£…ï¼Œæ”¯æŒæ‹¦æˆªå™¨ã€é”™è¯¯å¤„ç†ã€é‡è¯•æœºåˆ¶ï¼š

```typescript
// src/api/core/request.ts
export class HttpRequest {
  private setupInterceptors(): void {
    // è¯·æ±‚æ‹¦æˆªå™¨ - è‡ªåŠ¨æ·»åŠ tokenã€æ—¶é—´æˆ³ç­‰
    // å“åº”æ‹¦æˆªå™¨ - ç»Ÿä¸€é”™è¯¯å¤„ç†ã€æ•°æ®è½¬æ¢
  }
}
```

### 3. ç»„åˆå¼APIå°è£… (useRequest)

ç°ä»£åŒ–çš„è¯·æ±‚ç»„åˆå¼APIï¼Œæä¾›å®Œæ•´çš„çŠ¶æ€ç®¡ç†ï¼š

```typescript
// src/composables/core/useRequest.ts
export function useRequest<T>(requestFn, options) {
  return {
    data, loading, error, finished,
    execute, refresh, reset, cancel
  };
}
```

### 4. æ€§èƒ½ç›‘æ§ç³»ç»Ÿ (PerformanceMonitor)

å®Œæ•´çš„æ€§èƒ½ç›‘æ§è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒWeb VitalsæŒ‡æ ‡ï¼š

```typescript
// src/utils/core/performance.ts
export class PerformanceMonitor {
  // ç›‘æ§FCPã€LCPã€FIDã€CLSç­‰æ ¸å¿ƒæŒ‡æ ‡
  private observePaint(): void { }
  private observeLayoutShift(): void { }
}
```

### 5. é”™è¯¯è¾¹ç•Œå¤„ç† (ErrorBoundary)

ç°ä»£åŒ–çš„é”™è¯¯å¤„ç†æ¶æ„ï¼Œæ”¯æŒå¤šç§é”™è¯¯ç±»å‹å’Œå¤„ç†ç­–ç•¥ï¼š

```typescript
// src/utils/core/error-boundary.ts
export class ErrorBoundary {
  // ç»Ÿä¸€é”™è¯¯æ•è·å’Œå¤„ç†
  captureError(error: Partial<ErrorInfo>): void { }
}
```

## å¼€å‘æœ€ä½³å®è·µ

### 1. ç±»å‹å®‰å…¨
- æ‰€æœ‰APIæ¥å£éƒ½æœ‰å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- ä½¿ç”¨æ³›å‹ç¡®ä¿ç±»å‹æ¨å¯¼çš„å‡†ç¡®æ€§
- ç»Ÿä¸€çš„ç±»å‹å¯¼å‡ºå’Œç®¡ç†

### 2. æ¨¡å—åŒ–è®¾è®¡
- æ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½æœ‰ç‹¬ç«‹çš„èŒè´£
- é€šè¿‡index.tsæ–‡ä»¶ç»Ÿä¸€å¯¼å‡º
- æ¸…æ™°çš„ä¾èµ–å…³ç³»å’Œæ¨¡å—è¾¹ç•Œ

### 3. æ€§èƒ½ä¼˜åŒ–
- å†…ç½®æ€§èƒ½ç›‘æ§å’ŒæŒ‡æ ‡æ”¶é›†
- æ”¯æŒä»£ç åˆ†å‰²å’Œæ‡’åŠ è½½
- ä¼˜åŒ–çš„æ„å»ºé…ç½®å’Œèµ„æºå‹ç¼©

### 4. é”™è¯¯å¤„ç†
- å…¨å±€é”™è¯¯è¾¹ç•Œæ•è·
- åˆ†ç±»é”™è¯¯å¤„ç†ç­–ç•¥
- é”™è¯¯ä¸ŠæŠ¥å’Œç›‘æ§

### 5. å¼€å‘ä½“éªŒ
- å®Œæ•´çš„å¼€å‘å·¥å…·é“¾
- çƒ­æ›´æ–°å’Œå¿«é€Ÿæ„å»º
- ä»£ç è§„èŒƒå’Œè‡ªåŠ¨æ ¼å¼åŒ–

## ç¯å¢ƒé…ç½®

### å¼€å‘ç¯å¢ƒ
```bash
# å®‰è£…ä¾èµ–
pnpm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# ç±»å‹æ£€æŸ¥
pnpm typecheck
```

### ç”Ÿäº§æ„å»º
```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# é¢„è§ˆæ„å»ºç»“æœ
pnpm preview
```

## æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°çš„APIæ¨¡å—
1. åœ¨ `src/api/modules/` ä¸‹åˆ›å»ºæ–°æ¨¡å—
2. ä½¿ç”¨ `HttpRequest` ç±»è¿›è¡Œè¯·æ±‚å°è£…
3. åœ¨ `src/api/index.ts` ä¸­å¯¼å‡º

### æ·»åŠ æ–°çš„ç»„åˆå¼API
1. åœ¨ `src/composables/` ä¸‹åˆ›å»ºæ–°å‡½æ•°
2. éµå¾ª `use` å‘½åçº¦å®š
3. æä¾›å®Œæ•´çš„TypeScriptç±»å‹

### æ·»åŠ æ–°çš„å·¥å…·å‡½æ•°
1. åœ¨ `src/utils/` ä¸‹åˆ›å»ºæ–°å·¥å…·
2. åœ¨ `src/utils/index.ts` ä¸­å¯¼å‡º
3. ç¼–å†™å•å…ƒæµ‹è¯•

## æ€§èƒ½æŒ‡æ ‡

### Core Web Vitals
- **FCP (First Contentful Paint)** < 1.8s
- **LCP (Largest Contentful Paint)** < 2.5s
- **FID (First Input Delay)** < 100ms
- **CLS (Cumulative Layout Shift)** < 0.1

### æ„å»ºä¼˜åŒ–
- **Tree Shaking** - è‡ªåŠ¨ç§»é™¤æœªä½¿ç”¨ä»£ç 
- **Code Splitting** - æŒ‰éœ€åŠ è½½æ¨¡å—
- **Asset Optimization** - èµ„æºå‹ç¼©å’Œä¼˜åŒ–

## ä»£ç è§„èŒƒ

### å‘½åçº¦å®š
- **ç»„ä»¶**: PascalCase (UserProfile.vue)
- **æ–‡ä»¶**: kebab-case (user-profile.ts)
- **å˜é‡**: camelCase (userName)
- **å¸¸é‡**: UPPER_SNAKE_CASE (API_BASE_URL)

### ç›®å½•è§„èŒƒ
- **åŠŸèƒ½ä¼˜å…ˆ**: æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 
- **å±‚æ¬¡æ¸…æ™°**: æ˜ç¡®çš„ç›®å½•å±‚çº§ç»“æ„
- **èŒè´£å•ä¸€**: æ¯ä¸ªç›®å½•æœ‰æ˜ç¡®çš„èŒè´£

## æ€»ç»“

æœ¬æ¶æ„æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„ç°ä»£åŒ–å‰ç«¯å·¥ç¨‹è§£å†³æ–¹æ¡ˆï¼Œå…·å¤‡ï¼š

âœ… **ä¼ä¸šçº§æ¶æ„** - å¯æ‰©å±•ã€å¯ç»´æŠ¤çš„ä»£ç ç»„ç»‡
âœ… **ç±»å‹å®‰å…¨** - å®Œæ•´çš„TypeScriptæ”¯æŒ
âœ… **æ€§èƒ½ä¼˜åŒ–** - å†…ç½®ç›‘æ§å’Œä¼˜åŒ–ç­–ç•¥
âœ… **å¼€å‘ä½“éªŒ** - ç°ä»£åŒ–çš„å¼€å‘å·¥å…·é“¾
âœ… **æœ€ä½³å®è·µ** - éµå¾ªä¸šç•Œæ ‡å‡†å’Œè§„èŒƒ

é€šè¿‡è¿™å¥—æ¶æ„ï¼Œå¼€å‘å›¢é˜Ÿå¯ä»¥å¿«é€Ÿæ„å»ºé«˜è´¨é‡çš„ä¼ä¸šçº§å‰ç«¯åº”ç”¨ã€‚
